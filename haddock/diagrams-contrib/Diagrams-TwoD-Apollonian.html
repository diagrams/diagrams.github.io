<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Diagrams.TwoD.Apollonian</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Diagrams-TwoD-Apollonian.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Diagrams-TwoD-Apollonian.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">diagrams-contrib-1.4.0.1: Collection of user contributions to diagrams EDSL</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) 2011, 2016 Brent Yorgey</td></tr><tr><th>License</th><td>BSD-style (see LICENSE)</td></tr><tr><th>Maintainer</th><td>byorgey@cis.upenn.edu</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Diagrams.TwoD.Apollonian</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Circles</a></li><li><a href="#g:2">Descartes' Theorem</a></li><li><a href="#g:3">Apollonian gasket generation</a><ul><li><a href="#g:4">Kissing sets</a></li><li><a href="#g:5">Apollonian trees</a></li></ul></li><li><a href="#g:6">Diagram generation</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Generation of Apollonian gaskets.  Any three mutually tangent
 circles uniquely determine exactly two others which are mutually
 tangent to all three.  This process can be repeated, generating a
 fractal circle packing.</p><p>See J. Lagarias, C. Mallows, and A. Wilks, &quot;Beyond the Descartes
 circle theorem&quot;, <em>Amer. Math. Monthly</em> 109 (2002), 338--361.
 <a href="http://arxiv.org/abs/math/0101066">http://arxiv.org/abs/math/0101066</a>.</p><p>A few examples:</p><pre>import Diagrams.TwoD.Apollonian
apollonian1 = apollonianGasket 0.01 2 2 2</pre><p><img src="diagrams/src_Diagrams_TwoD_Apollonian_apollonian1.svg#diagram=apollonian1&amp;width=400" /></p><pre>import Diagrams.TwoD.Apollonian
apollonian2 = apollonianGasket 0.01 2 3 3</pre><p><img src="diagrams/src_Diagrams_TwoD_Apollonian_apollonian2.svg#diagram=apollonian2&amp;width=400" /></p><pre>import Diagrams.TwoD.Apollonian
apollonian3 = apollonianGasket 0.01 2 4 7</pre><p><img src="diagrams/src_Diagrams_TwoD_Apollonian_apollonian3.svg#diagram=apollonian3&amp;width=400" /></p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Circle">Circle</a> n = <a href="#v:Circle">Circle</a> {<ul class="subs"><li><a href="#v:bend">bend</a> :: n</li><li><a href="#v:cb">cb</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Complex.html#t:Complex">Complex</a> n</li></ul>}</li><li class="src short"><a href="#v:mkCircle">mkCircle</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Fractional">Fractional</a> n =&gt; n -&gt; <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:P2">P2</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n</li><li class="src short"><a href="#v:center">center</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Fractional">Fractional</a> n =&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:P2">P2</a> n</li><li class="src short"><a href="#v:radius">radius</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Fractional">Fractional</a> n =&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; n</li><li class="src short"><a href="#v:descartes">descartes</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Numeric.html#t:Floating">Floating</a> n =&gt; [n] -&gt; [n]</li><li class="src short"><a href="#v:other">other</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Num">Num</a> n =&gt; [n] -&gt; n -&gt; n</li><li class="src short"><a href="#v:initialConfig">initialConfig</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:RealFloat">RealFloat</a> n =&gt; n -&gt; n -&gt; n -&gt; [<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n]</li><li class="src short"><a href="#v:apollonian">apollonian</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:RealFloat">RealFloat</a> n =&gt; n -&gt; [<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n] -&gt; [<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n]</li><li class="src short"><span class="keyword">data</span> <a href="#t:KissingSet">KissingSet</a> n = <a href="#v:KS">KS</a> {<ul class="subs"><li><a href="#v:selected">selected</a> :: n</li><li><a href="#v:others">others</a> :: [n]</li></ul>}</li><li class="src short"><a href="#v:kissingSets">kissingSets</a> :: [n] -&gt; [<a href="Diagrams-TwoD-Apollonian.html#t:KissingSet">KissingSet</a> n]</li><li class="src short"><a href="#v:flipSelected">flipSelected</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Num">Num</a> n =&gt; <a href="Diagrams-TwoD-Apollonian.html#t:KissingSet">KissingSet</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:KissingSet">KissingSet</a> n</li><li class="src short"><a href="#v:selectOthers">selectOthers</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:KissingSet">KissingSet</a> n -&gt; [<a href="Diagrams-TwoD-Apollonian.html#t:KissingSet">KissingSet</a> n]</li><li class="src short"><a href="#v:apollonianTrees">apollonianTrees</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:RealFloat">RealFloat</a> n =&gt; [<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n] -&gt; [<a href="http://hackage.haskell.org/packages/archive/containers/0.5.7.1/doc/html/Data-Tree.html#t:Tree">Tree</a> (<a href="Diagrams-TwoD-Apollonian.html#t:KissingSet">KissingSet</a> (<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n))]</li><li class="src short"><a href="#v:apollonianTree">apollonianTree</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:RealFloat">RealFloat</a> n =&gt; <a href="Diagrams-TwoD-Apollonian.html#t:KissingSet">KissingSet</a> (<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n) -&gt; <a href="http://hackage.haskell.org/packages/archive/containers/0.5.7.1/doc/html/Data-Tree.html#t:Tree">Tree</a> (<a href="Diagrams-TwoD-Apollonian.html#t:KissingSet">KissingSet</a> (<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n))</li><li class="src short"><a href="#v:drawCircle">drawCircle</a> :: (<a href="../diagrams-core/Diagrams-Core-Types.html#t:Renderable">Renderable</a> (<a href="../diagrams-lib/Diagrams-Path.html#t:Path">Path</a> <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> n) b, <a href="../diagrams-core/Diagrams-Core-Types.html#t:TypeableFloat">TypeableFloat</a> n) =&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> n <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#t:Any">Any</a></li><li class="src short"><a href="#v:drawGasket">drawGasket</a> :: (<a href="../diagrams-core/Diagrams-Core-Types.html#t:Renderable">Renderable</a> (<a href="../diagrams-lib/Diagrams-Path.html#t:Path">Path</a> <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> n) b, <a href="../diagrams-core/Diagrams-Core-Types.html#t:TypeableFloat">TypeableFloat</a> n) =&gt; [<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n] -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> n <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#t:Any">Any</a></li><li class="src short"><a href="#v:apollonianGasket">apollonianGasket</a> :: (<a href="../diagrams-core/Diagrams-Core-Types.html#t:Renderable">Renderable</a> (<a href="../diagrams-lib/Diagrams-Path.html#t:Path">Path</a> <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> n) b, <a href="../diagrams-core/Diagrams-Core-Types.html#t:TypeableFloat">TypeableFloat</a> n) =&gt; n -&gt; n -&gt; n -&gt; n -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> n <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#t:Any">Any</a></li></ul></div><div id="interface"><h1 id="g:1">Circles</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Circle" class="def">Circle</a> n <a href="src/Diagrams-TwoD-Apollonian.html#Circle" class="link">Source</a> <a href="#t:Circle" class="selflink">#</a></p><div class="doc"><p>Representation for circles that lets us quickly compute an
   Apollonian gasket.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Circle" class="def">Circle</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:bend" class="def">bend</a> :: n</dfn><div class="doc"><p>The bend is the reciprocal of signed
   radius: a negative radius means the
   outside and inside of the circle are
   switched.  The bends of any four mutually
   tangent circles satisfy Descartes'
   Theorem.</p></div></li><li><dfn class="src"><a id="v:cb" class="def">cb</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Complex.html#t:Complex">Complex</a> n</dfn><div class="doc"><p><em>Product</em> of bend and center represented
   as a complex number.  Amazingly, these
   products also satisfy the equation of
   Descartes' Theorem.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:Circle" class="caption collapser" onclick="toggleSection('i:Circle')">Instances</p><div id="section.i:Circle" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Circle:Eq:1" class="instance expander" onclick="toggleSection('i:id:Circle:Eq:1')"></span> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Eq.html#t:Eq">Eq</a> n =&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Eq.html#t:Eq">Eq</a> (<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n)</span> <a href="src/Diagrams-TwoD-Apollonian.html#line-99" class="link">Source</a> <a href="#t:Circle" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Circle:Eq:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Bool.html#t:Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Circle:Floating:2" class="instance expander" onclick="toggleSection('i:id:Circle:Floating:2')"></span> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:RealFloat">RealFloat</a> n =&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Numeric.html#t:Floating">Floating</a> (<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n)</span> <a href="src/Diagrams-TwoD-Apollonian.html#line-139" class="link">Source</a> <a href="#t:Circle" class="selflink">#</a></td><td class="doc"><p>The <code>Num</code>, <code>Fractional</code>, and <code>Floating</code> instances for <code>Circle</code>
   (all simply lifted elementwise over <code>Circle</code>'s fields) let us use
   Descartes' Theorem directly on circles.</p></td></tr><tr><td colspan="2"><div id="section.i:id:Circle:Floating:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:pi">pi</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:pi" class="selflink">#</a></p><p class="src"><a href="#v:exp">exp</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:exp" class="selflink">#</a></p><p class="src"><a href="#v:log">log</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:log" class="selflink">#</a></p><p class="src"><a href="#v:sqrt">sqrt</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:sqrt" class="selflink">#</a></p><p class="src"><a href="#v:-42--42-">(**)</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:-42--42-" class="selflink">#</a></p><p class="src"><a href="#v:logBase">logBase</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:logBase" class="selflink">#</a></p><p class="src"><a href="#v:sin">sin</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:sin" class="selflink">#</a></p><p class="src"><a href="#v:cos">cos</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:cos" class="selflink">#</a></p><p class="src"><a href="#v:tan">tan</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:tan" class="selflink">#</a></p><p class="src"><a href="#v:asin">asin</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:asin" class="selflink">#</a></p><p class="src"><a href="#v:acos">acos</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:acos" class="selflink">#</a></p><p class="src"><a href="#v:atan">atan</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:atan" class="selflink">#</a></p><p class="src"><a href="#v:sinh">sinh</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:sinh" class="selflink">#</a></p><p class="src"><a href="#v:cosh">cosh</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:cosh" class="selflink">#</a></p><p class="src"><a href="#v:tanh">tanh</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:tanh" class="selflink">#</a></p><p class="src"><a href="#v:asinh">asinh</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:asinh" class="selflink">#</a></p><p class="src"><a href="#v:acosh">acosh</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:acosh" class="selflink">#</a></p><p class="src"><a href="#v:atanh">atanh</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:atanh" class="selflink">#</a></p><p class="src"><a href="#v:log1p">log1p</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:log1p" class="selflink">#</a></p><p class="src"><a href="#v:expm1">expm1</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:expm1" class="selflink">#</a></p><p class="src"><a href="#v:log1pexp">log1pexp</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:log1pexp" class="selflink">#</a></p><p class="src"><a href="#v:log1mexp">log1mexp</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:log1mexp" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Circle:Fractional:3" class="instance expander" onclick="toggleSection('i:id:Circle:Fractional:3')"></span> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:RealFloat">RealFloat</a> n =&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Fractional">Fractional</a> (<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n)</span> <a href="src/Diagrams-TwoD-Apollonian.html#line-132" class="link">Source</a> <a href="#t:Circle" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Circle:Fractional:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-47-">(/)</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:-47-" class="selflink">#</a></p><p class="src"><a href="#v:recip">recip</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:recip" class="selflink">#</a></p><p class="src"><a href="#v:fromRational">fromRational</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Rational">Rational</a> -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:fromRational" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Circle:Num:4" class="instance expander" onclick="toggleSection('i:id:Circle:Num:4')"></span> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:RealFloat">RealFloat</a> n =&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Num">Num</a> (<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n)</span> <a href="src/Diagrams-TwoD-Apollonian.html#line-124" class="link">Source</a> <a href="#t:Circle" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Circle:Num:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-43-">(+)</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:-43-" class="selflink">#</a></p><p class="src"><a href="#v:-45-">(-)</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:-45-" class="selflink">#</a></p><p class="src"><a href="#v:-42-">(*)</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:-42-" class="selflink">#</a></p><p class="src"><a href="#v:negate">negate</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:negate" class="selflink">#</a></p><p class="src"><a href="#v:abs">abs</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:abs" class="selflink">#</a></p><p class="src"><a href="#v:signum">signum</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:signum" class="selflink">#</a></p><p class="src"><a href="#v:fromInteger">fromInteger</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Integer">Integer</a> -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n <a href="#v:fromInteger" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Circle:Show:5" class="instance expander" onclick="toggleSection('i:id:Circle:Show:5')"></span> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Text-Show.html#t:Show">Show</a> n =&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Text-Show.html#t:Show">Show</a> (<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n)</span> <a href="src/Diagrams-TwoD-Apollonian.html#line-99" class="link">Source</a> <a href="#t:Circle" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Circle:Show:5" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n] -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:mkCircle" class="def">mkCircle</a> <a href="src/Diagrams-TwoD-Apollonian.html#mkCircle" class="link">Source</a> <a href="#v:mkCircle" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Fractional">Fractional</a> n</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; n</td><td class="doc"><p>signed radius</p></td></tr><tr><td class="src">-&gt; <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:P2">P2</a> n</td><td class="doc"><p>center</p></td></tr><tr><td class="src">-&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Create a <code>Circle</code> given a signed radius and a location for its center.</p></div></div><div class="top"><p class="src"><a id="v:center" class="def">center</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Fractional">Fractional</a> n =&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:P2">P2</a> n <a href="src/Diagrams-TwoD-Apollonian.html#center" class="link">Source</a> <a href="#v:center" class="selflink">#</a></p><div class="doc"><p>Get the center of a circle.</p></div></div><div class="top"><p class="src"><a id="v:radius" class="def">radius</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Fractional">Fractional</a> n =&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; n <a href="src/Diagrams-TwoD-Apollonian.html#radius" class="link">Source</a> <a href="#v:radius" class="selflink">#</a></p><div class="doc"><p>Get the (unsigned) radius of a circle.</p></div></div><h1 id="g:2">Descartes' Theorem</h1><div class="top"><p class="src"><a id="v:descartes" class="def">descartes</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Numeric.html#t:Floating">Floating</a> n =&gt; [n] -&gt; [n] <a href="src/Diagrams-TwoD-Apollonian.html#descartes" class="link">Source</a> <a href="#v:descartes" class="selflink">#</a></p><div class="doc"><p>Descartes' Theorem states that if <code>b1</code>, <code>b2</code>, <code>b3</code> and <code>b4</code> are
   the bends of four mutually tangent circles, then</p><pre>    b1^2 + b2^2 + b3^2 + b4^2 = 1/2 * (b1 + b2 + b3 + b4)^2.
  </pre><p>Surprisingly, if we replace each of the <code>bi</code> with the <em>product</em>
   of <code>bi</code> and the center of the corresponding circle (represented
   as a complex number), the equation continues to hold! (See the
   paper referenced at the top of the module.)</p><p><code>descartes [b1,b2,b3]</code> solves for <code>b4</code>, returning both solutions.
   Notably, <code>descartes</code> works for any instance of <code>Floating</code>, which
   includes both <code>Double</code> (for bends), <code>Complex Double</code> (for
   bend/center product), and <code>Circle</code> (for both at once).</p></div></div><div class="top"><p class="src"><a id="v:other" class="def">other</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Num">Num</a> n =&gt; [n] -&gt; n -&gt; n <a href="src/Diagrams-TwoD-Apollonian.html#other" class="link">Source</a> <a href="#v:other" class="selflink">#</a></p><div class="doc"><p>If we have <em>four</em> mutually tangent circles we can choose one of
   them to replace; the remaining three determine exactly one other
   circle which is mutually tangent.  However, in this situation
   there is no need to apply <code><a href="Diagrams-TwoD-Apollonian.html#v:descartes">descartes</a></code> again, since the two
   solutions <code>b4</code> and <code>b4'</code> satisfy</p><pre>    b4 + b4' = 2 * (b1 + b2 + b3)
  </pre><p>Hence, to replace <code>b4</code> with its dual, we need only sum the other
   three, multiply by two, and subtract <code>b4</code>.  Again, this works for
   bends as well as bend/center products.</p></div></div><div class="top"><p class="src"><a id="v:initialConfig" class="def">initialConfig</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:RealFloat">RealFloat</a> n =&gt; n -&gt; n -&gt; n -&gt; [<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n] <a href="src/Diagrams-TwoD-Apollonian.html#initialConfig" class="link">Source</a> <a href="#v:initialConfig" class="selflink">#</a></p><div class="doc"><p>Generate an initial configuration of four mutually tangent
   circles, given just the signed bends of three of them.</p></div></div><h1 id="g:3">Apollonian gasket generation</h1><div class="top"><p class="src"><a id="v:apollonian" class="def">apollonian</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:RealFloat">RealFloat</a> n =&gt; n -&gt; [<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n] -&gt; [<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n] <a href="src/Diagrams-TwoD-Apollonian.html#apollonian" class="link">Source</a> <a href="#v:apollonian" class="selflink">#</a></p><div class="doc"><p>Given a threshold radius and a list of <em>four</em> mutually tangent
   circles, generate the Apollonian gasket containing those circles.
   Stop the recursion when encountering a circle with an (unsigned)
   radius smaller than the threshold.</p></div></div><h2 id="g:4">Kissing sets</h2><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:KissingSet" class="def">KissingSet</a> n <a href="src/Diagrams-TwoD-Apollonian.html#KissingSet" class="link">Source</a> <a href="#t:KissingSet" class="selflink">#</a></p><div class="doc"><p>The basic idea of a kissing set is supposed to represent a set of
   four mutually tangent circles with one selected, though in fact
   it is more general than that: it represents any set of objects
   with one distinguished object selected.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:KS" class="def">KS</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:selected" class="def">selected</a> :: n</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:others" class="def">others</a> :: [n]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><p id="control.i:KissingSet" class="caption collapser" onclick="toggleSection('i:KissingSet')">Instances</p><div id="section.i:KissingSet" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:KissingSet:Show:1" class="instance expander" onclick="toggleSection('i:id:KissingSet:Show:1')"></span> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Text-Show.html#t:Show">Show</a> n =&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Text-Show.html#t:Show">Show</a> (<a href="Diagrams-TwoD-Apollonian.html#t:KissingSet">KissingSet</a> n)</span> <a href="src/Diagrams-TwoD-Apollonian.html#line-212" class="link">Source</a> <a href="#t:KissingSet" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:KissingSet:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:KissingSet">KissingSet</a> n -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:KissingSet">KissingSet</a> n -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Diagrams-TwoD-Apollonian.html#t:KissingSet">KissingSet</a> n] -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:kissingSets" class="def">kissingSets</a> :: [n] -&gt; [<a href="Diagrams-TwoD-Apollonian.html#t:KissingSet">KissingSet</a> n] <a href="src/Diagrams-TwoD-Apollonian.html#kissingSets" class="link">Source</a> <a href="#v:kissingSets" class="selflink">#</a></p><div class="doc"><p>Generate all possible kissing sets from a set of objects by
   selecting each object in turn.</p></div></div><div class="top"><p class="src"><a id="v:flipSelected" class="def">flipSelected</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Num">Num</a> n =&gt; <a href="Diagrams-TwoD-Apollonian.html#t:KissingSet">KissingSet</a> n -&gt; <a href="Diagrams-TwoD-Apollonian.html#t:KissingSet">KissingSet</a> n <a href="src/Diagrams-TwoD-Apollonian.html#flipSelected" class="link">Source</a> <a href="#v:flipSelected" class="selflink">#</a></p><div class="doc"><p>&quot;Flip&quot; the selected circle to the <code><a href="Diagrams-TwoD-Apollonian.html#v:other">other</a></code> circle mutually tangent
   to the other three.  The new circle remains selected.</p></div></div><div class="top"><p class="src"><a id="v:selectOthers" class="def">selectOthers</a> :: <a href="Diagrams-TwoD-Apollonian.html#t:KissingSet">KissingSet</a> n -&gt; [<a href="Diagrams-TwoD-Apollonian.html#t:KissingSet">KissingSet</a> n] <a href="src/Diagrams-TwoD-Apollonian.html#selectOthers" class="link">Source</a> <a href="#v:selectOthers" class="selflink">#</a></p><div class="doc"><p>Make the selected circle unselected, and select each of the
   others, generating a new kissing set for each.</p></div></div><h2 id="g:5">Apollonian trees</h2><div class="top"><p class="src"><a id="v:apollonianTrees" class="def">apollonianTrees</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:RealFloat">RealFloat</a> n =&gt; [<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n] -&gt; [<a href="http://hackage.haskell.org/packages/archive/containers/0.5.7.1/doc/html/Data-Tree.html#t:Tree">Tree</a> (<a href="Diagrams-TwoD-Apollonian.html#t:KissingSet">KissingSet</a> (<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n))] <a href="src/Diagrams-TwoD-Apollonian.html#apollonianTrees" class="link">Source</a> <a href="#v:apollonianTrees" class="selflink">#</a></p><div class="doc"><p>Given a set of <em>four</em> mutually tangent circles, generate the
   infinite Apollonian tree rooted at the given set, represented as
   a list of four subtrees.  Each node in the tree is a kissing set
   with one circle selected which has just been flipped.  The three
   children of a node represent the kissing sets obtained by
   selecting each of the other three circles and flipping them.  The
   initial roots of the four trees are chosen by selecting and
   flipping each of the circles in the starting set. This
   representation has the property that each circle in the
   Apollonian gasket is the selected circle in exactly one node
   (except that the initial four circles never appear as the
   selected circle in any node).</p></div></div><div class="top"><p class="src"><a id="v:apollonianTree" class="def">apollonianTree</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:RealFloat">RealFloat</a> n =&gt; <a href="Diagrams-TwoD-Apollonian.html#t:KissingSet">KissingSet</a> (<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n) -&gt; <a href="http://hackage.haskell.org/packages/archive/containers/0.5.7.1/doc/html/Data-Tree.html#t:Tree">Tree</a> (<a href="Diagrams-TwoD-Apollonian.html#t:KissingSet">KissingSet</a> (<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n)) <a href="src/Diagrams-TwoD-Apollonian.html#apollonianTree" class="link">Source</a> <a href="#v:apollonianTree" class="selflink">#</a></p><div class="doc"><p>Generate a single Apollonian tree from a root kissing set.  See
   the documentation for <code><a href="Diagrams-TwoD-Apollonian.html#v:apollonianTrees">apollonianTrees</a></code> for an explanation.</p></div></div><h1 id="g:6">Diagram generation</h1><div class="top"><p class="src"><a id="v:drawCircle" class="def">drawCircle</a> :: (<a href="../diagrams-core/Diagrams-Core-Types.html#t:Renderable">Renderable</a> (<a href="../diagrams-lib/Diagrams-Path.html#t:Path">Path</a> <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> n) b, <a href="../diagrams-core/Diagrams-Core-Types.html#t:TypeableFloat">TypeableFloat</a> n) =&gt; <a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> n <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#t:Any">Any</a> <a href="src/Diagrams-TwoD-Apollonian.html#drawCircle" class="link">Source</a> <a href="#v:drawCircle" class="selflink">#</a></p><div class="doc"><p>Draw a circle.</p></div></div><div class="top"><p class="src"><a id="v:drawGasket" class="def">drawGasket</a> :: (<a href="../diagrams-core/Diagrams-Core-Types.html#t:Renderable">Renderable</a> (<a href="../diagrams-lib/Diagrams-Path.html#t:Path">Path</a> <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> n) b, <a href="../diagrams-core/Diagrams-Core-Types.html#t:TypeableFloat">TypeableFloat</a> n) =&gt; [<a href="Diagrams-TwoD-Apollonian.html#t:Circle">Circle</a> n] -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> n <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#t:Any">Any</a> <a href="src/Diagrams-TwoD-Apollonian.html#drawGasket" class="link">Source</a> <a href="#v:drawGasket" class="selflink">#</a></p><div class="doc"><p>Draw a generated gasket, using a line width 0.003 times the
   radius of the largest circle.</p></div></div><div class="top"><p class="src"><a id="v:apollonianGasket" class="def">apollonianGasket</a> :: (<a href="../diagrams-core/Diagrams-Core-Types.html#t:Renderable">Renderable</a> (<a href="../diagrams-lib/Diagrams-Path.html#t:Path">Path</a> <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> n) b, <a href="../diagrams-core/Diagrams-Core-Types.html#t:TypeableFloat">TypeableFloat</a> n) =&gt; n -&gt; n -&gt; n -&gt; n -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> n <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#t:Any">Any</a> <a href="src/Diagrams-TwoD-Apollonian.html#apollonianGasket" class="link">Source</a> <a href="#v:apollonianGasket" class="selflink">#</a></p><div class="doc"><p>Draw an Apollonian gasket: the first argument is the threshold;
   the recursion will stop upon reaching circles with radii less than
   it. The next three arguments are bends of three circles.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.2</p></div></body></html>