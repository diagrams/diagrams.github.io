<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Diagrams.TwoD.Layout.CirclePacking</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Diagrams-TwoD-Layout-CirclePacking.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Diagrams-TwoD-Layout-CirclePacking.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">diagrams-contrib-1.4.0.1: Collection of user contributions to diagrams EDSL</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) 2012 Joachim Breitner</td></tr><tr><th>License</th><td>BSD-style (see LICENSE)</td></tr><tr><th>Maintainer</th><td>mail@joachim-breitner.de</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Diagrams.TwoD.Layout.CirclePacking</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A method for laying out diagrams using a circle packing algorithm. For
 details on the algorithm, see <a href="http://hackage.haskell.org/packages/archive/circle-packing/0.1.0.5/doc/html/Optimisation-CirclePacking.html">Optimisation.CirclePacking</a> in the module
 circle-packing.</p><p>Here is an example:</p><pre>import Optimisation.CirclePacking
import Diagrams.TwoD.Vector       (e)

colorize = zipWith fc $
    cycle [red,blue,yellow,magenta,cyan,bisque,firebrick,indigo]

objects = colorize $
    [ circle r  | r &lt;- [0.1,0.2..1.6] ] ++
    [ hexagon r | r &lt;- [0.1,0.2..0.7] ] ++
    [ decagon r | r &lt;- [0.1,0.2..0.7] ]

-- Just a approximation, diagram objects do not have an exact radius
radiusApproximation o = maximum [ radius (e (alpha @@ turn)) o | alpha &lt;- [0,0.1..1.0]]

circlePackingExample =
    position $ map (\(o,(x,y)) -&gt; (p2 (x,y),o)) $
    packCircles radiusApproximation objects</pre><p><img src="diagrams/src_Diagrams_TwoD_Layout_CirclePacking_circlePackingExample.svg#diagram=circlePackingExample&amp;width=400" /></p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:renderCirclePacking">renderCirclePacking</a> :: (<a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Numeric.html#t:Floating">Floating</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b), <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b)) =&gt; <a href="Diagrams-TwoD-Layout-CirclePacking.html#t:RadiusFunction">RadiusFunction</a> b m -&gt; [<a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b) m] -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b) m</li><li class="src short"><a href="#v:createCirclePacking">createCirclePacking</a> :: (<a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b), <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Numeric.html#t:Floating">Floating</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b)) =&gt; (a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Double">Double</a>) -&gt; (a -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b) m) -&gt; [a] -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b) m</li><li class="src short"><span class="keyword">type</span> <a href="#t:RadiusFunction">RadiusFunction</a> b m = <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b) m -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Double">Double</a></li><li class="src short"><a href="#v:approxRadius">approxRadius</a> :: (<a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Numeric.html#t:Floating">Floating</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b), <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Real">Real</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b), <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b)) =&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="Diagrams-TwoD-Layout-CirclePacking.html#t:RadiusFunction">RadiusFunction</a> b m</li><li class="src short"><a href="#v:circleRadius">circleRadius</a> :: (<a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Numeric.html#t:Floating">Floating</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b), <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Real">Real</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b)) =&gt; <a href="Diagrams-TwoD-Layout-CirclePacking.html#t:RadiusFunction">RadiusFunction</a> b m</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:renderCirclePacking" class="def">renderCirclePacking</a> :: (<a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Numeric.html#t:Floating">Floating</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b), <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b)) =&gt; <a href="Diagrams-TwoD-Layout-CirclePacking.html#t:RadiusFunction">RadiusFunction</a> b m -&gt; [<a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b) m] -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b) m <a href="src/Diagrams-TwoD-Layout-CirclePacking.html#renderCirclePacking" class="link">Source</a> <a href="#v:renderCirclePacking" class="selflink">#</a></p><div class="doc"><p>Combines the passed objects, whose radius is estimated using the given
 <code><a href="Diagrams-TwoD-Layout-CirclePacking.html#t:RadiusFunction">RadiusFunction</a></code>, so that they do not overlap (according to the radius
 function) and otherwise form, as far as possible, a tight circle.</p></div></div><div class="top"><p class="src"><a id="v:createCirclePacking" class="def">createCirclePacking</a> :: (<a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b), <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Numeric.html#t:Floating">Floating</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b)) =&gt; (a -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Double">Double</a>) -&gt; (a -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b) m) -&gt; [a] -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b) m <a href="src/Diagrams-TwoD-Layout-CirclePacking.html#createCirclePacking" class="link">Source</a> <a href="#v:createCirclePacking" class="selflink">#</a></p><div class="doc"><p>More general version of <code><a href="Diagrams-TwoD-Layout-CirclePacking.html#v:renderCirclePacking">renderCirclePacking</a></code>. You can use this if you
 have more information available in the values of type <code>a</code> that allows you to
 calculate the radius better (or even exactly).</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:RadiusFunction" class="def">RadiusFunction</a> b m = <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b) m -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Double">Double</a> <a href="src/Diagrams-TwoD-Layout-CirclePacking.html#RadiusFunction" class="link">Source</a> <a href="#t:RadiusFunction" class="selflink">#</a></p><div class="doc"><p>The type of radius-estimating functions for Diagrams such as
 <code><a href="Diagrams-TwoD-Layout-CirclePacking.html#v:approxRadius">approxRadius</a></code> and <code><a href="Diagrams-TwoD-Layout-CirclePacking.html#v:circleRadius">circleRadius</a></code>. When you can calculate the radius better,
 but not any more once you converted your data to a diagram, use <code><a href="Diagrams-TwoD-Layout-CirclePacking.html#v:createCirclePacking">createCirclePacking</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:approxRadius" class="def">approxRadius</a> :: (<a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Numeric.html#t:Floating">Floating</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b), <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Real">Real</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b), <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Ord.html#t:Ord">Ord</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b)) =&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="Diagrams-TwoD-Layout-CirclePacking.html#t:RadiusFunction">RadiusFunction</a> b m <a href="src/Diagrams-TwoD-Layout-CirclePacking.html#approxRadius" class="link">Source</a> <a href="#v:approxRadius" class="selflink">#</a></p><div class="doc"><p>A safe approximation. Calculates the outer radius of the smallest
 axis-aligned polygon with the given number of edges that contains the
 object. A parameter of 4 up to 8 should be sufficient for most applications.</p></div></div><div class="top"><p class="src"><a id="v:circleRadius" class="def">circleRadius</a> :: (<a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Numeric.html#t:Floating">Floating</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b), <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Real">Real</a> (<a href="../diagrams-core/Diagrams-Core-V.html#t:N">N</a> b)) =&gt; <a href="Diagrams-TwoD-Layout-CirclePacking.html#t:RadiusFunction">RadiusFunction</a> b m <a href="src/Diagrams-TwoD-Layout-CirclePacking.html#circleRadius" class="link">Source</a> <a href="#v:circleRadius" class="selflink">#</a></p><div class="doc"><p>An unsafe approximation. This is the radius of the largest circle that
 fits in the rectangular bounding box of the object, so it may be too small.
 It is, however, exact for circles, and there is no function that is safe for
 all diagrams and exact for circles.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.2</p></div></body></html>