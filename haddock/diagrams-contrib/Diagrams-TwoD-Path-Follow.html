<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Diagrams.TwoD.Path.Follow</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Diagrams-TwoD-Path-Follow.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Diagrams-TwoD-Path-Follow.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">diagrams-contrib-1.4.0.1: Collection of user contributions to diagrams EDSL</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) 2016 Brent Yorgey</td></tr><tr><th>License</th><td>BSD-style (see LICENSE)</td></tr><tr><th>Maintainer</th><td>byorgey@gmail.com</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Diagrams.TwoD.Path.Follow</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>An alternative monoid for trails which rotates trails so their
 starting and ending tangents match at join points.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Following">Following</a> n</li><li class="src short"><a href="#v:follow">follow</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:RealFloat">RealFloat</a> n =&gt; <a href="../diagrams-lib/Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="../diagrams-lib/Diagrams-Trail.html#t:Line">Line</a> <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> n -&gt; <a href="Diagrams-TwoD-Path-Follow.html#t:Following">Following</a> n</li><li class="src short"><a href="#v:unfollow">unfollow</a> :: <a href="Diagrams-TwoD-Path-Follow.html#t:Following">Following</a> n -&gt; <a href="../diagrams-lib/Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="../diagrams-lib/Diagrams-Trail.html#t:Line">Line</a> <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> n</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Following" class="def">Following</a> n <a href="src/Diagrams-TwoD-Path-Follow.html#Following" class="link">Source</a> <a href="#t:Following" class="selflink">#</a></p><div class="doc"><p><code>Following</code> is just like <code>Trail' Line V2</code>, except that it has a
   different <code><a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#t:Monoid">Monoid</a></code> instance.  <code>Following</code> values are
   concatenated, just like regular lines, except that they are also
   rotated so the tangents match at the join point.  In addition,
   they are normalized so the tangent at the start point is in the
   direction of the positive x axis (essentially we are considering
   trails equivalent up to rotation).</p><p>Pro tip: you can concatenate a list of trails so their tangents
   match using <code><a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Wrapped.html#v:ala">ala</a></code> from <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens.html">Control.Lens</a>, like so:</p><pre>ala follow foldMap :: [Trail' Line V2 n] -&gt; Trail' Line V2 n</pre><p>This is illustrated in the example below.</p><p><img src="diagrams/src_Diagrams_TwoD_Path_Follow_followExample.svg#diagram=followExample&amp;width=400" /></p><pre>import Control.Lens (ala)
import Diagrams.TwoD.Path.Follow

wibble :: Trail' Line V2 Double
wibble = hrule 1 &lt;&gt; hrule 0.5 # rotateBy (1/6) &lt;&gt; hrule 0.5 # rotateBy (-1/6) &lt;&gt; a
  where a = arc (xDir # rotateBy (-1/4)) (1/5 @@ turn)
          # scale 0.7

followExample =
  [ wibble
  , wibble
    # replicate 5
    # ala follow foldMap
  ]
  # map stroke
  # map centerXY
  # vsep 1
  # frame 0.5</pre></div><div class="subs instances"><p id="control.i:Following" class="caption collapser" onclick="toggleSection('i:Following')">Instances</p><div id="section.i:Following" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Following:Monoid:1" class="instance expander" onclick="toggleSection('i:id:Following:Monoid:1')"></span> (<a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Numeric.html#t:Floating">Floating</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Ord.html#t:Ord">Ord</a> n) =&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#t:Monoid">Monoid</a> (<a href="Diagrams-TwoD-Path-Follow.html#t:Following">Following</a> n)</span> <a href="src/Diagrams-TwoD-Path-Follow.html#line-64" class="link">Source</a> <a href="#t:Following" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Following:Monoid:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Diagrams-TwoD-Path-Follow.html#t:Following">Following</a> n <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Diagrams-TwoD-Path-Follow.html#t:Following">Following</a> n -&gt; <a href="Diagrams-TwoD-Path-Follow.html#t:Following">Following</a> n -&gt; <a href="Diagrams-TwoD-Path-Follow.html#t:Following">Following</a> n <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Diagrams-TwoD-Path-Follow.html#t:Following">Following</a> n] -&gt; <a href="Diagrams-TwoD-Path-Follow.html#t:Following">Following</a> n <a href="#v:mconcat" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Following:Wrapped:2" class="instance expander" onclick="toggleSection('i:id:Following:Wrapped:2')"></span> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:RealFloat">RealFloat</a> n =&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (<a href="Diagrams-TwoD-Path-Follow.html#t:Following">Following</a> n)</span> <a href="src/Diagrams-TwoD-Path-Follow.html#line-68" class="link">Source</a> <a href="#t:Following" class="selflink">#</a></td><td class="doc"><p>Note this is only an iso when considering trails equivalent up to
   rotation.</p></td></tr><tr><td colspan="2"><div id="section.i:id:Following:Wrapped:2" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Wrapped.html#t:Unwrapped">Unwrapped</a> (<a href="Diagrams-TwoD-Path-Follow.html#t:Following">Following</a> n) :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a> <a href="#t:Unwrapped" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:_Wrapped-39-">_Wrapped'</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Iso-39-">Iso'</a> (<a href="Diagrams-TwoD-Path-Follow.html#t:Following">Following</a> n) (<a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Wrapped.html#t:Unwrapped">Unwrapped</a> (<a href="Diagrams-TwoD-Path-Follow.html#t:Following">Following</a> n)) <a href="#v:_Wrapped-39-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Following:Rewrapped:3" class="instance expander" onclick="toggleSection('i:id:Following:Rewrapped:3')"></span> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:RealFloat">RealFloat</a> n =&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Wrapped.html#t:Rewrapped">Rewrapped</a> (<a href="Diagrams-TwoD-Path-Follow.html#t:Following">Following</a> n) (<a href="Diagrams-TwoD-Path-Follow.html#t:Following">Following</a> n')</span> <a href="src/Diagrams-TwoD-Path-Follow.html#line-73" class="link">Source</a> <a href="#t:Following" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Following:Rewrapped:3" class="inst-details hide"></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Following:Unwrapped:4" class="instance expander" onclick="toggleSection('i:id:Following:Unwrapped:4')"></span> <span class="keyword">type</span> <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Wrapped.html#t:Unwrapped">Unwrapped</a> (<a href="Diagrams-TwoD-Path-Follow.html#t:Following">Following</a> n)</span> <a href="src/Diagrams-TwoD-Path-Follow.html#line-69" class="link">Source</a> <a href="#t:Following" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Following:Unwrapped:4" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Wrapped.html#t:Unwrapped">Unwrapped</a> (<a href="Diagrams-TwoD-Path-Follow.html#t:Following">Following</a> n) = <a href="../diagrams-lib/Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="../diagrams-lib/Diagrams-Trail.html#t:Line">Line</a> <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> n</div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:follow" class="def">follow</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:RealFloat">RealFloat</a> n =&gt; <a href="../diagrams-lib/Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="../diagrams-lib/Diagrams-Trail.html#t:Line">Line</a> <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> n -&gt; <a href="Diagrams-TwoD-Path-Follow.html#t:Following">Following</a> n <a href="src/Diagrams-TwoD-Path-Follow.html#follow" class="link">Source</a> <a href="#v:follow" class="selflink">#</a></p><div class="doc"><p>Create a <code>Following</code> from a line, normalizing it (by rotation)
   so that it starts in the positive x direction.</p></div></div><div class="top"><p class="src"><a id="v:unfollow" class="def">unfollow</a> :: <a href="Diagrams-TwoD-Path-Follow.html#t:Following">Following</a> n -&gt; <a href="../diagrams-lib/Diagrams-Trail.html#t:Trail-39-">Trail'</a> <a href="../diagrams-lib/Diagrams-Trail.html#t:Line">Line</a> <a href="../diagrams-lib/Diagrams-TwoD-Types.html#t:V2">V2</a> n <a href="src/Diagrams-TwoD-Path-Follow.html#unfollow" class="link">Source</a> <a href="#v:unfollow" class="selflink">#</a></p><div class="doc"><p>Project out the line from a <code><a href="Diagrams-TwoD-Path-Follow.html#t:Following">Following</a></code>.</p><p>If trails are considered equivalent up to rotation, then
   <code><a href="Diagrams-TwoD-Path-Follow.html#v:unfollow">unfollow</a></code> and <code><a href="Diagrams-TwoD-Path-Follow.html#v:follow">follow</a></code> are inverse.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.2</p></div></body></html>