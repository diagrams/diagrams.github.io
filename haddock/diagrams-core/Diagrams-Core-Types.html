<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Diagrams.Core.Types</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Diagrams-Core-Types.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Diagrams-Core-Types.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">diagrams-core-1.4: Core libraries for diagrams EDSL</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) 2011-2015 diagrams-core team (see LICENSE)</td></tr><tr><th>License</th><td>BSD-style (see LICENSE)</td></tr><tr><th>Maintainer</th><td>diagrams-discuss@googlegroups.com</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Diagrams.Core.Types</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Diagrams</a><ul><li><a href="#g:2">Annotations</a><ul><li><a href="#g:3">Static annotations</a></li><li><a href="#g:4">Dynamic (monoidal) annotations</a></li></ul></li><li><a href="#g:5">Basic type definitions</a></li></ul></li><li><a href="#g:6">Operations on diagrams</a><ul><li><a href="#g:7">Creating diagrams</a></li><li><a href="#g:8">Extracting information</a></li><li><a href="#g:9">Combining diagrams</a></li><li><a href="#g:10">Modifying diagrams</a><ul><li><a href="#g:11">Names</a></li><li><a href="#g:12">Other</a></li></ul></li></ul></li><li><a href="#g:13">Subdiagrams</a></li><li><a href="#g:14">Subdiagram maps</a></li><li><a href="#g:15">Primtives</a></li><li><a href="#g:16">Backends</a><ul><li><a href="#g:17">Null backend</a></li><li><a href="#g:18">Number classes</a></li></ul></li><li><a href="#g:19">Renderable</a></li><li><a href="#section.orphans">Orphan instances</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>The core library of primitives forming the basis of an embedded
 domain-specific language for describing and rendering diagrams.</p><p><a href="Diagrams-Core-Types.html">Diagrams.Core.Types</a> defines types and classes for
 primitives, diagrams, and backends.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Annotation">Annotation</a><ul class="subs"><li>= <a href="#v:Href">Href</a> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-String.html#t:String">String</a></li><li>| <a href="#v:OpacityGroup">OpacityGroup</a> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Double">Double</a></li></ul></li><li class="src short"><a href="#v:applyAnnotation">applyAnnotation</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="Diagrams-Core-Types.html#t:Annotation">Annotation</a> -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:href">href</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-String.html#t:String">String</a> -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:opacityGroup">opacityGroup</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Double">Double</a> -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:groupOpacity">groupOpacity</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Double">Double</a> -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><span class="keyword">type</span> <a href="#t:UpAnnots">UpAnnots</a> b v n m = <a href="../monoid-extras/Data-Monoid-Deletable.html#t:Deletable">Deletable</a> (<a href="Diagrams-Core-Envelope.html#t:Envelope">Envelope</a> v n) <a href="../monoid-extras/Data-Monoid-MList.html#t::::">:::</a> (<a href="../monoid-extras/Data-Monoid-Deletable.html#t:Deletable">Deletable</a> (<a href="Diagrams-Core-Trace.html#t:Trace">Trace</a> v n) <a href="../monoid-extras/Data-Monoid-MList.html#t::::">:::</a> (<a href="../monoid-extras/Data-Monoid-Deletable.html#t:Deletable">Deletable</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m) <a href="../monoid-extras/Data-Monoid-MList.html#t::::">:::</a> (<a href="Diagrams-Core-Query.html#t:Query">Query</a> v n m <a href="../monoid-extras/Data-Monoid-MList.html#t::::">:::</a> ())))</li><li class="src short"><span class="keyword">type</span> <a href="#t:DownAnnots">DownAnnots</a> v n = (<a href="Diagrams-Core-Transform.html#t:Transformation">Transformation</a> v n <a href="../monoid-extras/Data-Monoid-Coproduct.html#t::-43-:">:+:</a> <a href="Diagrams-Core-Style.html#t:Style">Style</a> v n) <a href="../monoid-extras/Data-Monoid-MList.html#t::::">:::</a> (<a href="Diagrams-Core-Names.html#t:Name">Name</a> <a href="../monoid-extras/Data-Monoid-MList.html#t::::">:::</a> ())</li><li class="src short"><a href="#v:transfToAnnot">transfToAnnot</a> :: <a href="Diagrams-Core-Transform.html#t:Transformation">Transformation</a> v n -&gt; <a href="Diagrams-Core-Types.html#t:DownAnnots">DownAnnots</a> v n</li><li class="src short"><a href="#v:transfFromAnnot">transfFromAnnot</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Vector.html#t:Additive">Additive</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Num">Num</a> n) =&gt; <a href="Diagrams-Core-Types.html#t:DownAnnots">DownAnnots</a> v n -&gt; <a href="Diagrams-Core-Transform.html#t:Transformation">Transformation</a> v n</li><li class="src short"><span class="keyword">data</span> <a href="#t:QDiaLeaf">QDiaLeaf</a> b v n m<ul class="subs"><li>= <a href="#v:PrimLeaf">PrimLeaf</a> (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n)</li><li>| <a href="#v:DelayedLeaf">DelayedLeaf</a> (<a href="Diagrams-Core-Types.html#t:DownAnnots">DownAnnots</a> v n -&gt; n -&gt; n -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)</li></ul></li><li class="src short"><a href="#v:withQDiaLeaf">withQDiaLeaf</a> :: (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n -&gt; r) -&gt; ((<a href="Diagrams-Core-Types.html#t:DownAnnots">DownAnnots</a> v n -&gt; n -&gt; n -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) -&gt; r) -&gt; <a href="Diagrams-Core-Types.html#t:QDiaLeaf">QDiaLeaf</a> b v n m -&gt; r</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:QDiagram">QDiagram</a> b v n m = <a href="#v:QD">QD</a> (<a href="../dual-tree/Data-Tree-DUAL-Internal.html#t:DUALTree">DUALTree</a> (<a href="Diagrams-Core-Types.html#t:DownAnnots">DownAnnots</a> v n) (<a href="Diagrams-Core-Types.html#t:UpAnnots">UpAnnots</a> b v n m) <a href="Diagrams-Core-Types.html#t:Annotation">Annotation</a> (<a href="Diagrams-Core-Types.html#t:QDiaLeaf">QDiaLeaf</a> b v n m))</li><li class="src short"><span class="keyword">type</span> <a href="#t:Diagram">Diagram</a> b = <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b (<a href="Diagrams-Core-V.html#t:V">V</a> b) (<a href="Diagrams-Core-V.html#t:N">N</a> b) <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#t:Any">Any</a></li><li class="src short"><a href="#v:mkQD">mkQD</a> :: <a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n -&gt; <a href="Diagrams-Core-Envelope.html#t:Envelope">Envelope</a> v n -&gt; <a href="Diagrams-Core-Trace.html#t:Trace">Trace</a> v n -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m -&gt; <a href="Diagrams-Core-Query.html#t:Query">Query</a> v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:mkQD-39-">mkQD'</a> :: <a href="Diagrams-Core-Types.html#t:QDiaLeaf">QDiaLeaf</a> b v n m -&gt; <a href="Diagrams-Core-Envelope.html#t:Envelope">Envelope</a> v n -&gt; <a href="Diagrams-Core-Trace.html#t:Trace">Trace</a> v n -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m -&gt; <a href="Diagrams-Core-Query.html#t:Query">Query</a> v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:pointDiagram">pointDiagram</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Fractional">Fractional</a> n) =&gt; <a href="Diagrams-Core-Points.html#t:Point">Point</a> v n -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:envelope">envelope</a> :: (<a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) (<a href="Diagrams-Core-Envelope.html#t:Envelope">Envelope</a> v n)</li><li class="src short"><a href="#v:trace">trace</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) (<a href="Diagrams-Core-Trace.html#t:Trace">Trace</a> v n)</li><li class="src short"><a href="#v:subMap">subMap</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n) =&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m)</li><li class="src short"><a href="#v:names">names</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n) =&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; [(<a href="Diagrams-Core-Names.html#t:Name">Name</a>, [<a href="Diagrams-Core-Points.html#t:Point">Point</a> v n])]</li><li class="src short"><a href="#v:query">query</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#t:Monoid">Monoid</a> m =&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Query.html#t:Query">Query</a> v n m</li><li class="src short"><a href="#v:atop">atop</a> :: (<a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:nameSub">nameSub</a> :: (<a href="Diagrams-Core-Names.html#t:IsName">IsName</a> nm, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m) -&gt; nm -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:lookupName">lookupName</a> :: (<a href="Diagrams-Core-Names.html#t:IsName">IsName</a> nm, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n) =&gt; nm -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m)</li><li class="src short"><a href="#v:withName">withName</a> :: (<a href="Diagrams-Core-Names.html#t:IsName">IsName</a> nm, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n) =&gt; nm -&gt; (<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:withNameAll">withNameAll</a> :: (<a href="Diagrams-Core-Names.html#t:IsName">IsName</a> nm, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n) =&gt; nm -&gt; ([<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m] -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:withNames">withNames</a> :: (<a href="Diagrams-Core-Names.html#t:IsName">IsName</a> nm, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n) =&gt; [nm] -&gt; ([<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m] -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:localize">localize</a> :: <span class="keyword">forall</span> b v n m. (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:setEnvelope">setEnvelope</a> :: <span class="keyword">forall</span> b v n m. (<a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; <a href="Diagrams-Core-Envelope.html#t:Envelope">Envelope</a> v n -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:setTrace">setTrace</a> :: <span class="keyword">forall</span> b v n m. (<a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="Diagrams-Core-Trace.html#t:Trace">Trace</a> v n -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><span class="keyword">data</span> <a href="#t:Subdiagram">Subdiagram</a> b v n m = <a href="#v:Subdiagram">Subdiagram</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) (<a href="Diagrams-Core-Types.html#t:DownAnnots">DownAnnots</a> v n)</li><li class="src short"><a href="#v:mkSubdiagram">mkSubdiagram</a> :: <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m</li><li class="src short"><a href="#v:getSub">getSub</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:rawSub">rawSub</a> :: <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:location">location</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Vector.html#t:Additive">Additive</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Num">Num</a> n) =&gt; <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m -&gt; <a href="Diagrams-Core-Points.html#t:Point">Point</a> v n</li><li class="src short"><a href="#v:subPoint">subPoint</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n) =&gt; <a href="Diagrams-Core-Points.html#t:Point">Point</a> v n -&gt; <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:SubMap">SubMap</a> b v n m = <a href="#v:SubMap">SubMap</a> (<a href="http://hackage.haskell.org/packages/archive/containers/0.5.7.1/doc/html/Data-Map-Strict.html#t:Map">Map</a> <a href="Diagrams-Core-Names.html#t:Name">Name</a> [<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m])</li><li class="src short"><a href="#v:fromNames">fromNames</a> :: <a href="Diagrams-Core-Names.html#t:IsName">IsName</a> a =&gt; [(a, <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m)] -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m</li><li class="src short"><a href="#v:rememberAs">rememberAs</a> :: <a href="Diagrams-Core-Names.html#t:IsName">IsName</a> a =&gt; a -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m</li><li class="src short"><a href="#v:lookupSub">lookupSub</a> :: <a href="Diagrams-Core-Names.html#t:IsName">IsName</a> nm =&gt; nm -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> [<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m]</li><li class="src short"><span class="keyword">data</span> <a href="#t:Prim">Prim</a> b v n <span class="keyword">where</span><ul class="subs"><li><a href="#v:Prim">Prim</a> :: (<a href="Diagrams-Core-Transform.html#t:Transformable">Transformable</a> p, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Typeable-Internal.html#t:Typeable">Typeable</a> p, <a href="Diagrams-Core-Types.html#t:Renderable">Renderable</a> p b) =&gt; p -&gt; <a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b (<a href="Diagrams-Core-V.html#t:V">V</a> p) (<a href="Diagrams-Core-V.html#t:N">N</a> p)</li></ul></li><li class="src short"><a href="#v:_Prim">_Prim</a> :: (<a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Typeable-Internal.html#t:Typeable">Typeable</a> p, <a href="Diagrams-Core-Types.html#t:Renderable">Renderable</a> p b) =&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b (<a href="Diagrams-Core-V.html#t:V">V</a> p) (<a href="Diagrams-Core-V.html#t:N">N</a> p)) p</li><li class="src short"><span class="keyword">class</span> <a href="#t:Backend">Backend</a> b v n <span class="keyword">where</span><ul class="subs"><li><span class="keyword">data</span> <a href="#t:Render">Render</a> b v n :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a></li><li><span class="keyword">type</span> <a href="#t:Result">Result</a> b v n :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a></li><li><span class="keyword">data</span> <a href="#t:Options">Options</a> b v n :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:DTree">DTree</a> b v n a = <a href="http://hackage.haskell.org/packages/archive/containers/0.5.7.1/doc/html/Data-Tree.html#t:Tree">Tree</a> (<a href="Diagrams-Core-Types.html#t:DNode">DNode</a> b v n a)</li><li class="src short"><span class="keyword">data</span> <a href="#t:DNode">DNode</a> b v n a<ul class="subs"><li>= <a href="#v:DStyle">DStyle</a> (<a href="Diagrams-Core-Style.html#t:Style">Style</a> v n)</li><li>| <a href="#v:DTransform">DTransform</a> (<a href="Diagrams-Core-Transform.html#t:Transformation">Transformation</a> v n)</li><li>| <a href="#v:DAnnot">DAnnot</a> a</li><li>| <a href="#v:DDelay">DDelay</a></li><li>| <a href="#v:DPrim">DPrim</a> (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n)</li><li>| <a href="#v:DEmpty">DEmpty</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:RTree">RTree</a> b v n a = <a href="http://hackage.haskell.org/packages/archive/containers/0.5.7.1/doc/html/Data-Tree.html#t:Tree">Tree</a> (<a href="Diagrams-Core-Types.html#t:RNode">RNode</a> b v n a)</li><li class="src short"><span class="keyword">data</span> <a href="#t:RNode">RNode</a> b v n a<ul class="subs"><li>= <a href="#v:RStyle">RStyle</a> (<a href="Diagrams-Core-Style.html#t:Style">Style</a> v n)</li><li>| <a href="#v:RAnnot">RAnnot</a> a</li><li>| <a href="#v:RPrim">RPrim</a> (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n)</li><li>| <a href="#v:REmpty">REmpty</a></li></ul></li><li class="src short"><a href="#v:_RStyle">_RStyle</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> (<a href="Diagrams-Core-Types.html#t:RNode">RNode</a> b v n a) (<a href="Diagrams-Core-Style.html#t:Style">Style</a> v n)</li><li class="src short"><a href="#v:_RAnnot">_RAnnot</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> (<a href="Diagrams-Core-Types.html#t:RNode">RNode</a> b v n a) a</li><li class="src short"><a href="#v:_RPrim">_RPrim</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> (<a href="Diagrams-Core-Types.html#t:RNode">RNode</a> b v n a) (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n)</li><li class="src short"><a href="#v:_REmpty">_REmpty</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> (<a href="Diagrams-Core-Types.html#t:RNode">RNode</a> b v n a) ()</li><li class="src short"><span class="keyword">data</span> <a href="#t:NullBackend">NullBackend</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:D">D</a> v n = <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#t:Any">Any</a></li><li class="src short"><span class="keyword">class</span> (<a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Typeable-Internal.html#t:Typeable">Typeable</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:RealFloat">RealFloat</a> n) =&gt; <a href="#t:TypeableFloat">TypeableFloat</a> n</li><li class="src short"><span class="keyword">class</span> <a href="Diagrams-Core-Transform.html#t:Transformable">Transformable</a> t =&gt; <a href="#t:Renderable">Renderable</a> t b <span class="keyword">where</span><ul class="subs"></ul></li></ul></div><div id="interface"><h1 id="g:1">Diagrams</h1><h2 id="g:2">Annotations</h2><h3 id="g:3">Static annotations</h3><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Annotation" class="def">Annotation</a> <a href="src/Diagrams-Core-Types.html#Annotation" class="link">Source</a> <a href="#t:Annotation" class="selflink">#</a></p><div class="doc"><p>Static annotations which can be placed at a particular node of a
   diagram tree.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Href" class="def">Href</a> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-String.html#t:String">String</a></td><td class="doc"><p>Hyperlink</p></td></tr><tr><td class="src"><a id="v:OpacityGroup" class="def">OpacityGroup</a> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Double">Double</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Annotation" class="caption collapser" onclick="toggleSection('i:Annotation')">Instances</p><div id="section.i:Annotation" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Annotation:Show:1" class="instance expander" onclick="toggleSection('i:id:Annotation:Show:1')"></span> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Text-Show.html#t:Show">Show</a> <a href="Diagrams-Core-Types.html#t:Annotation">Annotation</a></span> <a href="src/Diagrams-Core-Types.html#line-255" class="link">Source</a> <a href="#t:Annotation" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Annotation:Show:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Int.html#t:Int">Int</a> -&gt; <a href="Diagrams-Core-Types.html#t:Annotation">Annotation</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Diagrams-Core-Types.html#t:Annotation">Annotation</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-String.html#t:String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Diagrams-Core-Types.html#t:Annotation">Annotation</a>] -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Text-Show.html#t:ShowS">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:applyAnnotation" class="def">applyAnnotation</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="Diagrams-Core-Types.html#t:Annotation">Annotation</a> -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Core-Types.html#applyAnnotation" class="link">Source</a> <a href="#v:applyAnnotation" class="selflink">#</a></p><div class="doc"><p>Apply a static annotation at the root of a diagram.</p></div></div><div class="top"><p class="src"><a id="v:href" class="def">href</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-String.html#t:String">String</a> -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Core-Types.html#href" class="link">Source</a> <a href="#v:href" class="selflink">#</a></p><div class="doc"><p>Make a diagram into a hyperlink.  Note that only some backends
   will honor hyperlink annotations.</p></div></div><div class="top"><p class="src"><a id="v:opacityGroup" class="def">opacityGroup</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Double">Double</a> -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Core-Types.html#opacityGroup" class="link">Source</a> <a href="#v:opacityGroup" class="selflink">#</a></p><div class="doc"><p>Change the transparency of a <code><a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a></code> as a group.</p></div></div><div class="top"><p class="src"><a id="v:groupOpacity" class="def">groupOpacity</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Double">Double</a> -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Core-Types.html#groupOpacity" class="link">Source</a> <a href="#v:groupOpacity" class="selflink">#</a></p><div class="doc"><p>Change the transparency of a <code><a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a></code> as a group.</p></div></div><h3 id="g:4">Dynamic (monoidal) annotations</h3><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:UpAnnots" class="def">UpAnnots</a> b v n m = <a href="../monoid-extras/Data-Monoid-Deletable.html#t:Deletable">Deletable</a> (<a href="Diagrams-Core-Envelope.html#t:Envelope">Envelope</a> v n) <a href="../monoid-extras/Data-Monoid-MList.html#t::::">:::</a> (<a href="../monoid-extras/Data-Monoid-Deletable.html#t:Deletable">Deletable</a> (<a href="Diagrams-Core-Trace.html#t:Trace">Trace</a> v n) <a href="../monoid-extras/Data-Monoid-MList.html#t::::">:::</a> (<a href="../monoid-extras/Data-Monoid-Deletable.html#t:Deletable">Deletable</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m) <a href="../monoid-extras/Data-Monoid-MList.html#t::::">:::</a> (<a href="Diagrams-Core-Query.html#t:Query">Query</a> v n m <a href="../monoid-extras/Data-Monoid-MList.html#t::::">:::</a> ()))) <a href="src/Diagrams-Core-Types.html#UpAnnots" class="link">Source</a> <a href="#t:UpAnnots" class="selflink">#</a></p><div class="doc"><p>Monoidal annotations which travel up the diagram tree, <em>i.e.</em> which
   are aggregated from component diagrams to the whole:</p><ul><li>envelopes (see <a href="Diagrams-Core-Envelope.html">Diagrams.Core.Envelope</a>).
     The envelopes are &quot;deletable&quot; meaning that at any point we can
     throw away the existing envelope and replace it with a new one;
     sometimes we want to consider a diagram as having a different
     envelope unrelated to its &quot;natural&quot; envelope.</li><li>traces (see <a href="Diagrams-Core-Trace.html">Diagrams.Core.Trace</a>), also
     deletable.</li><li>name/subdiagram associations (see <a href="Diagrams-Core-Names.html">Diagrams.Core.Names</a>)</li><li>query functions (see <a href="Diagrams-Core-Query.html">Diagrams.Core.Query</a>)</li></ul></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:DownAnnots" class="def">DownAnnots</a> v n = (<a href="Diagrams-Core-Transform.html#t:Transformation">Transformation</a> v n <a href="../monoid-extras/Data-Monoid-Coproduct.html#t::-43-:">:+:</a> <a href="Diagrams-Core-Style.html#t:Style">Style</a> v n) <a href="../monoid-extras/Data-Monoid-MList.html#t::::">:::</a> (<a href="Diagrams-Core-Names.html#t:Name">Name</a> <a href="../monoid-extras/Data-Monoid-MList.html#t::::">:::</a> ()) <a href="src/Diagrams-Core-Types.html#DownAnnots" class="link">Source</a> <a href="#t:DownAnnots" class="selflink">#</a></p><div class="doc"><p>Monoidal annotations which travel down the diagram tree,
   <em>i.e.</em> which accumulate along each path to a leaf (and which can
   act on the upwards-travelling annotations):</p><ul><li>styles (see <a href="Diagrams-Core-Style.html">Diagrams.Core.Style</a>)</li><li>names (see <a href="Diagrams-Core-Names.html">Diagrams.Core.Names</a>)</li></ul></div></div><div class="top"><p class="src"><a id="v:transfToAnnot" class="def">transfToAnnot</a> :: <a href="Diagrams-Core-Transform.html#t:Transformation">Transformation</a> v n -&gt; <a href="Diagrams-Core-Types.html#t:DownAnnots">DownAnnots</a> v n <a href="src/Diagrams-Core-Types.html#transfToAnnot" class="link">Source</a> <a href="#v:transfToAnnot" class="selflink">#</a></p><div class="doc"><p>Inject a transformation into a default downwards annotation
   value.</p></div></div><div class="top"><p class="src"><a id="v:transfFromAnnot" class="def">transfFromAnnot</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Vector.html#t:Additive">Additive</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Num">Num</a> n) =&gt; <a href="Diagrams-Core-Types.html#t:DownAnnots">DownAnnots</a> v n -&gt; <a href="Diagrams-Core-Transform.html#t:Transformation">Transformation</a> v n <a href="src/Diagrams-Core-Types.html#transfFromAnnot" class="link">Source</a> <a href="#v:transfFromAnnot" class="selflink">#</a></p><div class="doc"><p>Extract the (total) transformation from a downwards annotation
   value.</p></div></div><h2 id="g:5">Basic type definitions</h2><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:QDiaLeaf" class="def">QDiaLeaf</a> b v n m <a href="src/Diagrams-Core-Types.html#QDiaLeaf" class="link">Source</a> <a href="#t:QDiaLeaf" class="selflink">#</a></p><div class="doc"><p>A leaf in a <code><a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a></code> tree is either a <code><a href="Diagrams-Core-Types.html#t:Prim">Prim</a></code>, or a &quot;delayed&quot;
   <code>QDiagram</code> which expands to a real <code>QDiagram</code> once it learns the
   &quot;final context&quot; in which it will be rendered.  For example, in
   order to decide how to draw an arrow, we must know the precise
   transformation applied to it (since the arrow head and tail are
   scale-invariant).</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:PrimLeaf" class="def">PrimLeaf</a> (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:DelayedLeaf" class="def">DelayedLeaf</a> (<a href="Diagrams-Core-Types.html#t:DownAnnots">DownAnnots</a> v n -&gt; n -&gt; n -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)</td><td class="doc"><p>The <code>QDiagram</code> produced by a <code>DelayedLeaf</code> function <em>must</em>
   already apply any transformation in the given
   <code>DownAnnots</code> (that is, the transformation will not
   be applied by the context).</p></td></tr></table></div><div class="subs instances"><p id="control.i:QDiaLeaf" class="caption collapser" onclick="toggleSection('i:QDiaLeaf')">Instances</p><div id="section.i:QDiaLeaf" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:QDiaLeaf:Functor:1" class="instance expander" onclick="toggleSection('i:id:QDiaLeaf:Functor:1')"></span> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Functor.html#t:Functor">Functor</a> (<a href="Diagrams-Core-Types.html#t:QDiaLeaf">QDiaLeaf</a> b v n)</span> <a href="src/Diagrams-Core-Types.html#line-242" class="link">Source</a> <a href="#t:QDiaLeaf" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:QDiaLeaf:Functor:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Diagrams-Core-Types.html#t:QDiaLeaf">QDiaLeaf</a> b v n a -&gt; <a href="Diagrams-Core-Types.html#t:QDiaLeaf">QDiaLeaf</a> b v n b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Diagrams-Core-Types.html#t:QDiaLeaf">QDiaLeaf</a> b v n b -&gt; <a href="Diagrams-Core-Types.html#t:QDiaLeaf">QDiaLeaf</a> b v n a <a href="#v:-60--36-" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:withQDiaLeaf" class="def">withQDiaLeaf</a> :: (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n -&gt; r) -&gt; ((<a href="Diagrams-Core-Types.html#t:DownAnnots">DownAnnots</a> v n -&gt; n -&gt; n -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) -&gt; r) -&gt; <a href="Diagrams-Core-Types.html#t:QDiaLeaf">QDiaLeaf</a> b v n m -&gt; r <a href="src/Diagrams-Core-Types.html#withQDiaLeaf" class="link">Source</a> <a href="#v:withQDiaLeaf" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:QDiagram" class="def">QDiagram</a> b v n m <a href="src/Diagrams-Core-Types.html#QDiagram" class="link">Source</a> <a href="#t:QDiagram" class="selflink">#</a></p><div class="doc"><p>The fundamental diagram type.  The type variables are as follows:</p><ul><li><code>b</code> represents the backend, such as <code>SVG</code> or <code>Cairo</code>.  Note
     that each backend also exports a type synonym <code>B</code> for itself,
     so the type variable <code>b</code> may also typically be instantiated by
     <code>B</code>, meaning &quot;use whatever backend is in scope&quot;.</li><li><code>v</code> represents the vector space of the diagram.  Typical
     instantiations include <code>V2</code> (for a two-dimensional diagram) or
     <code>V3</code> (for a three-dimensional diagram).</li><li><code>n</code> represents the numerical field the diagram uses.  Typically
     this will be a concrete numeric type like <code>Double</code>.</li><li><code>m</code> is the monoidal type of &quot;query annotations&quot;: each point
     in the diagram has a value of type <code>m</code> associated to it, and
     these values are combined according to the <code><a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#t:Monoid">Monoid</a></code> instance
     for <code>m</code>.  Most often, <code>m</code> is simply instantiated to <code><a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#t:Any">Any</a></code>,
     associating a simple <code>Bool</code> value to each point indicating
     whether the point is inside the diagram; <code><a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a></code> is a synonym
     for <code>QDiagram</code> with <code>m</code> thus instantiated to <code>Any</code>.</li></ul><p>Diagrams can be combined via their <code><a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#t:Monoid">Monoid</a></code> instance, transformed
   via their <code><a href="Diagrams-Core-Transform.html#t:Transformable">Transformable</a></code> instance, and assigned attributes via
   their <code><a href="Diagrams-Core-Style.html#t:HasStyle">HasStyle</a></code> instance.</p><p>Note that the <code>Q</code> in <code>QDiagram</code> stands for &quot;Queriable&quot;, as
   distinguished from <code><a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a></code>, where <code>m</code> is fixed to <code>Any</code>.  This
   is not really a very good name, but it's probably not worth
   changing it at this point.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:QD" class="def">QD</a> (<a href="../dual-tree/Data-Tree-DUAL-Internal.html#t:DUALTree">DUALTree</a> (<a href="Diagrams-Core-Types.html#t:DownAnnots">DownAnnots</a> v n) (<a href="Diagrams-Core-Types.html#t:UpAnnots">UpAnnots</a> b v n m) <a href="Diagrams-Core-Types.html#t:Annotation">Annotation</a> (<a href="Diagrams-Core-Types.html#t:QDiaLeaf">QDiaLeaf</a> b v n m))</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:QDiagram" class="caption collapser" onclick="toggleSection('i:QDiagram')">Instances</p><div id="section.i:QDiagram" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:QDiagram:Functor:1" class="instance expander" onclick="toggleSection('i:id:QDiagram:Functor:1')"></span> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Functor.html#t:Functor">Functor</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n)</span> <a href="src/Diagrams-Core-Types.html#line-506" class="link">Source</a> <a href="#t:QDiagram" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:QDiagram:Functor:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n a -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n b -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n a <a href="#v:-60--36-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:QDiagram:Semigroup:2" class="instance expander" onclick="toggleSection('i:id:QDiagram:Semigroup:2')"></span> (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-489" class="link">Source</a> <a href="#t:QDiagram" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:QDiagram:Semigroup:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-List-NonEmpty.html#t:NonEmpty">NonEmpty</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Integral">Integral</a> b =&gt; b -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="#v:stimes" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:QDiagram:Monoid:3" class="instance expander" onclick="toggleSection('i:id:QDiagram:Monoid:3')"></span> (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#t:Monoid">Monoid</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-484" class="link">Source</a> <a href="#t:QDiagram" class="selflink">#</a></td><td class="doc"><p>Diagrams form a monoid since each of their components do: the
   empty diagram has no primitives, an empty envelope, an empty
   trace, no named subdiagrams, and a constantly empty query
   function.</p><p>Diagrams compose by aligning their respective local origins.  The
   new diagram has all the primitives and all the names from the two
   diagrams combined, and query functions are combined pointwise.
   The first diagram goes on top of the second.  &quot;On top of&quot;
   probably only makes sense in vector spaces of dimension lower
   than 3, but in theory it could make sense for, say, 3-dimensional
   diagrams when viewed by 4-dimensional beings.</p></td></tr><tr><td colspan="2"><div id="section.i:id:QDiagram:Monoid:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m] -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="#v:mconcat" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:QDiagram:Wrapped:4" class="instance expander" onclick="toggleSection('i:id:QDiagram:Wrapped:4')"></span> <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-318" class="link">Source</a> <a href="#t:QDiagram" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:QDiagram:Wrapped:4" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Wrapped.html#t:Unwrapped">Unwrapped</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a> <a href="#t:Unwrapped" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:_Wrapped-39-">_Wrapped'</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Iso-39-">Iso'</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) (<a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Wrapped.html#t:Unwrapped">Unwrapped</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)) <a href="#v:_Wrapped-39-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:QDiagram:HasOrigin:5" class="instance expander" onclick="toggleSection('i:id:QDiagram:HasOrigin:5')"></span> (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="Diagrams-Core-HasOrigin.html#t:HasOrigin">HasOrigin</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-561" class="link">Source</a> <a href="#t:QDiagram" class="selflink">#</a></td><td class="doc"><p>Every diagram has an intrinsic &quot;local origin&quot; which is the
   basis for all combining operations.</p></td></tr><tr><td colspan="2"><div id="section.i:id:QDiagram:HasOrigin:5" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:moveOriginTo">moveOriginTo</a> :: <a href="Diagrams-Core-Points.html#t:Point">Point</a> (<a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)) (<a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)) -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Core-HasOrigin.html#moveOriginTo" class="link">Source</a> <a href="#v:moveOriginTo" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:QDiagram:Transformable:6" class="instance expander" onclick="toggleSection('i:id:QDiagram:Transformable:6')"></span> (<a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="Diagrams-Core-Transform.html#t:Transformable">Transformable</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-569" class="link">Source</a> <a href="#t:QDiagram" class="selflink">#</a></td><td class="doc"><p>Diagrams can be transformed by transforming each of their
   components appropriately.</p></td></tr><tr><td colspan="2"><div id="section.i:id:QDiagram:Transformable:6" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:transform">transform</a> :: <a href="Diagrams-Core-Transform.html#t:Transformation">Transformation</a> (<a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)) (<a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)) -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Core-Transform.html#transform" class="link">Source</a> <a href="#v:transform" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:QDiagram:Qualifiable:7" class="instance expander" onclick="toggleSection('i:id:QDiagram:Qualifiable:7')"></span> (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="Diagrams-Core-Names.html#t:Qualifiable">Qualifiable</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-577" class="link">Source</a> <a href="#t:QDiagram" class="selflink">#</a></td><td class="doc"><p>Diagrams can be qualified so that all their named points can
   now be referred to using the qualification prefix.</p></td></tr><tr><td colspan="2"><div id="section.i:id:QDiagram:Qualifiable:7" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:.-62--62-">(.&gt;&gt;)</a> :: <a href="Diagrams-Core-Names.html#t:IsName">IsName</a> a =&gt; a -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Core-Names.html#.%3E%3E" class="link">Source</a> <a href="#v:.-62--62-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:QDiagram:HasStyle:8" class="instance expander" onclick="toggleSection('i:id:QDiagram:HasStyle:8')"></span> (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="Diagrams-Core-Style.html#t:HasStyle">HasStyle</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-534" class="link">Source</a> <a href="#t:QDiagram" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:QDiagram:HasStyle:8" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:applyStyle">applyStyle</a> :: <a href="Diagrams-Core-Style.html#t:Style">Style</a> (<a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)) (<a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)) -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Core-Style.html#applyStyle" class="link">Source</a> <a href="#v:applyStyle" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:QDiagram:Traced:9" class="instance expander" onclick="toggleSection('i:id:QDiagram:Traced:9')"></span> (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="Diagrams-Core-Trace.html#t:Traced">Traced</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-553" class="link">Source</a> <a href="#t:QDiagram" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:QDiagram:Traced:9" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getTrace">getTrace</a> :: <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Trace.html#t:Trace">Trace</a> (<a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)) (<a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)) <a href="src/Diagrams-Core-Trace.html#getTrace" class="link">Source</a> <a href="#v:getTrace" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:QDiagram:Enveloped:10" class="instance expander" onclick="toggleSection('i:id:QDiagram:Enveloped:10')"></span> (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; <a href="Diagrams-Core-Envelope.html#t:Enveloped">Enveloped</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-547" class="link">Source</a> <a href="#t:QDiagram" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:QDiagram:Enveloped:10" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getEnvelope">getEnvelope</a> :: <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Envelope.html#t:Envelope">Envelope</a> (<a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)) (<a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)) <a href="src/Diagrams-Core-Envelope.html#getEnvelope" class="link">Source</a> <a href="#v:getEnvelope" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:QDiagram:Juxtaposable:11" class="instance expander" onclick="toggleSection('i:id:QDiagram:Juxtaposable:11')"></span> (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; <a href="Diagrams-Core-Juxtapose.html#t:Juxtaposable">Juxtaposable</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-541" class="link">Source</a> <a href="#t:QDiagram" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:QDiagram:Juxtaposable:11" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:juxtapose">juxtapose</a> :: <a href="Diagrams-Core-V.html#t:Vn">Vn</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Core-Juxtapose.html#juxtapose" class="link">Source</a> <a href="#v:juxtapose" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:QDiagram:Rewrapped:12" class="instance expander" onclick="toggleSection('i:id:QDiagram:Rewrapped:12')"></span> <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Wrapped.html#t:Rewrapped">Rewrapped</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b' v' n' m')</span> <a href="src/Diagrams-Core-Types.html#line-323" class="link">Source</a> <a href="#t:QDiagram" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:QDiagram:Rewrapped:12" class="inst-details hide"></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:QDiagram:Unwrapped:13" class="instance expander" onclick="toggleSection('i:id:QDiagram:Unwrapped:13')"></span> <span class="keyword">type</span> <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Wrapped.html#t:Unwrapped">Unwrapped</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-319" class="link">Source</a> <a href="#t:QDiagram" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:QDiagram:Unwrapped:13" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Wrapped.html#t:Unwrapped">Unwrapped</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) = <a href="../dual-tree/Data-Tree-DUAL-Internal.html#t:DUALTree">DUALTree</a> (<a href="Diagrams-Core-Types.html#t:DownAnnots">DownAnnots</a> v n) (<a href="Diagrams-Core-Types.html#t:UpAnnots">UpAnnots</a> b v n m) <a href="Diagrams-Core-Types.html#t:Annotation">Annotation</a> (<a href="Diagrams-Core-Types.html#t:QDiaLeaf">QDiaLeaf</a> b v n m)</div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:QDiagram:N:14" class="instance expander" onclick="toggleSection('i:id:QDiagram:N:14')"></span> <span class="keyword">type</span> <a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-326" class="link">Source</a> <a href="#t:QDiagram" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:QDiagram:N:14" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) = n</div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:QDiagram:V:15" class="instance expander" onclick="toggleSection('i:id:QDiagram:V:15')"></span> <span class="keyword">type</span> <a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-325" class="link">Source</a> <a href="#t:QDiagram" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:QDiagram:V:15" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) = v</div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Diagram" class="def">Diagram</a> b = <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b (<a href="Diagrams-Core-V.html#t:V">V</a> b) (<a href="Diagrams-Core-V.html#t:N">N</a> b) <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#t:Any">Any</a> <a href="src/Diagrams-Core-Types.html#Diagram" class="link">Source</a> <a href="#t:Diagram" class="selflink">#</a></p><div class="doc"><p><code>Diagram b</code> is a synonym for <code><code><a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a></code> b (V b) (N b) <code><a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#t:Any">Any</a></code></code>.  That is,
   the default sort of diagram is one where querying at a point
   simply tells you whether the diagram contains that point or not.
   Transforming a default diagram into one with a more interesting
   query can be done via the <code><a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Functor.html#t:Functor">Functor</a></code> instance of <code><code><a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a></code> b v n</code> or
   the <code>value</code> function.</p></div></div><h1 id="g:6">Operations on diagrams</h1><h2 id="g:7">Creating diagrams</h2><div class="top"><p class="src"><a id="v:mkQD" class="def">mkQD</a> :: <a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n -&gt; <a href="Diagrams-Core-Envelope.html#t:Envelope">Envelope</a> v n -&gt; <a href="Diagrams-Core-Trace.html#t:Trace">Trace</a> v n -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m -&gt; <a href="Diagrams-Core-Query.html#t:Query">Query</a> v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Core-Types.html#mkQD" class="link">Source</a> <a href="#v:mkQD" class="selflink">#</a></p><div class="doc"><p>Create a diagram from a single primitive, along with an envelope,
   trace, subdiagram map, and query function.</p></div></div><div class="top"><p class="src"><a id="v:mkQD-39-" class="def">mkQD'</a> :: <a href="Diagrams-Core-Types.html#t:QDiaLeaf">QDiaLeaf</a> b v n m -&gt; <a href="Diagrams-Core-Envelope.html#t:Envelope">Envelope</a> v n -&gt; <a href="Diagrams-Core-Trace.html#t:Trace">Trace</a> v n -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m -&gt; <a href="Diagrams-Core-Query.html#t:Query">Query</a> v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Core-Types.html#mkQD%27" class="link">Source</a> <a href="#v:mkQD-39-" class="selflink">#</a></p><div class="doc"><p>Create a diagram from a generic QDiaLeaf, along with an envelope,
   trace, subdiagram map, and query function.</p></div></div><div class="top"><p class="src"><a id="v:pointDiagram" class="def">pointDiagram</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Fractional">Fractional</a> n) =&gt; <a href="Diagrams-Core-Points.html#t:Point">Point</a> v n -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Core-Types.html#pointDiagram" class="link">Source</a> <a href="#v:pointDiagram" class="selflink">#</a></p><div class="doc"><p>Create a &quot;point diagram&quot;, which has no content, no trace, an
   empty query, and a point envelope.</p></div></div><h2 id="g:8">Extracting information</h2><div class="top"><p class="src"><a id="v:envelope" class="def">envelope</a> :: (<a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) (<a href="Diagrams-Core-Envelope.html#t:Envelope">Envelope</a> v n) <a href="src/Diagrams-Core-Types.html#envelope" class="link">Source</a> <a href="#v:envelope" class="selflink">#</a></p><div class="doc"><p>Lens onto the <code><a href="Diagrams-Core-Envelope.html#t:Envelope">Envelope</a></code> of a <code><a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:trace" class="def">trace</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) (<a href="Diagrams-Core-Trace.html#t:Trace">Trace</a> v n) <a href="src/Diagrams-Core-Types.html#trace" class="link">Source</a> <a href="#v:trace" class="selflink">#</a></p><div class="doc"><p>Lens onto the <code><a href="Diagrams-Core-Trace.html#t:Trace">Trace</a></code> of a <code><a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:subMap" class="def">subMap</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n) =&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m) <a href="src/Diagrams-Core-Types.html#subMap" class="link">Source</a> <a href="#v:subMap" class="selflink">#</a></p><div class="doc"><p>Lens onto the <code><a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a></code> of a <code><a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a></code> (<em>i.e.</em> an association from
   names to subdiagrams).</p></div></div><div class="top"><p class="src"><a id="v:names" class="def">names</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n) =&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; [(<a href="Diagrams-Core-Names.html#t:Name">Name</a>, [<a href="Diagrams-Core-Points.html#t:Point">Point</a> v n])] <a href="src/Diagrams-Core-Types.html#names" class="link">Source</a> <a href="#v:names" class="selflink">#</a></p><div class="doc"><p>Get a list of names of subdiagrams and their locations.</p></div></div><div class="top"><p class="src"><a id="v:query" class="def">query</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#t:Monoid">Monoid</a> m =&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Query.html#t:Query">Query</a> v n m <a href="src/Diagrams-Core-Types.html#query" class="link">Source</a> <a href="#v:query" class="selflink">#</a></p><div class="doc"><p>Get the query function associated with a diagram.</p></div></div><h2 id="g:9">Combining diagrams</h2><div class="doc"><p>For many more ways of combining diagrams, see
   <a href="Diagrams-Combinators.html">Diagrams.Combinators</a> and <a href="Diagrams-TwoD-Combinators.html">Diagrams.TwoD.Combinators</a>
   from the diagrams-lib package.</p></div><div class="top"><p class="src"><a id="v:atop" class="def">atop</a> :: (<a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <span class="fixity">infixl 6</span><span class="rightedge"></span> <a href="src/Diagrams-Core-Types.html#atop" class="link">Source</a> <a href="#v:atop" class="selflink">#</a></p><div class="doc"><p>A convenient synonym for <code><a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#v:mappend">mappend</a></code> on diagrams, designed to be
   used infix (to help remember which diagram goes on top of which
   when combining them, namely, the first on top of the second).</p></div></div><h2 id="g:10">Modifying diagrams</h2><h3 id="g:11">Names</h3><div class="top"><p class="src"><a id="v:nameSub" class="def">nameSub</a> :: (<a href="Diagrams-Core-Names.html#t:IsName">IsName</a> nm, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m) -&gt; nm -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Core-Types.html#nameSub" class="link">Source</a> <a href="#v:nameSub" class="selflink">#</a></p><div class="doc"><p>Attach an atomic name to a certain subdiagram, computed from the
   given diagram /with the mapping from name to subdiagram
   included/.  The upshot of this knot-tying is that if <code>d' = d #
   named x</code>, then <code>lookupName x d' == Just d'</code> (instead of <code>Just
   d</code>).</p></div></div><div class="top"><p class="src"><a id="v:lookupName" class="def">lookupName</a> :: (<a href="Diagrams-Core-Names.html#t:IsName">IsName</a> nm, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n) =&gt; nm -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> (<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m) <a href="src/Diagrams-Core-Types.html#lookupName" class="link">Source</a> <a href="#v:lookupName" class="selflink">#</a></p><div class="doc"><p>Lookup the most recent diagram associated with (some
   qualification of) the given name.</p></div></div><div class="top"><p class="src"><a id="v:withName" class="def">withName</a> :: (<a href="Diagrams-Core-Names.html#t:IsName">IsName</a> nm, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n) =&gt; nm -&gt; (<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Core-Types.html#withName" class="link">Source</a> <a href="#v:withName" class="selflink">#</a></p><div class="doc"><p>Given a name and a diagram transformation indexed by a
   subdiagram, perform the transformation using the most recent
   subdiagram associated with (some qualification of) the name,
   or perform the identity transformation if the name does not exist.</p></div></div><div class="top"><p class="src"><a id="v:withNameAll" class="def">withNameAll</a> :: (<a href="Diagrams-Core-Names.html#t:IsName">IsName</a> nm, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n) =&gt; nm -&gt; ([<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m] -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Core-Types.html#withNameAll" class="link">Source</a> <a href="#v:withNameAll" class="selflink">#</a></p><div class="doc"><p>Given a name and a diagram transformation indexed by a list of
   subdiagrams, perform the transformation using the
   collection of all such subdiagrams associated with (some
   qualification of) the given name.</p></div></div><div class="top"><p class="src"><a id="v:withNames" class="def">withNames</a> :: (<a href="Diagrams-Core-Names.html#t:IsName">IsName</a> nm, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n) =&gt; [nm] -&gt; ([<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m] -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Core-Types.html#withNames" class="link">Source</a> <a href="#v:withNames" class="selflink">#</a></p><div class="doc"><p>Given a list of names and a diagram transformation indexed by a
   list of subdiagrams, perform the transformation using the
   list of most recent subdiagrams associated with (some qualification
   of) each name.  Do nothing (the identity transformation) if any
   of the names do not exist.</p></div></div><div class="top"><p class="src"><a id="v:localize" class="def">localize</a> :: <span class="keyword">forall</span> b v n m. (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Core-Types.html#localize" class="link">Source</a> <a href="#v:localize" class="selflink">#</a></p><div class="doc"><p>&quot;Localize&quot; a diagram by hiding all the names, so they are no
   longer visible to the outside.</p></div></div><h3 id="g:12">Other</h3><div class="top"><p class="src"><a id="v:setEnvelope" class="def">setEnvelope</a> :: <span class="keyword">forall</span> b v n m. (<a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; <a href="Diagrams-Core-Envelope.html#t:Envelope">Envelope</a> v n -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Core-Types.html#setEnvelope" class="link">Source</a> <a href="#v:setEnvelope" class="selflink">#</a></p><div class="doc"><p>Replace the envelope of a diagram.</p></div></div><div class="top"><p class="src"><a id="v:setTrace" class="def">setTrace</a> :: <span class="keyword">forall</span> b v n m. (<a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="Diagrams-Core-Trace.html#t:Trace">Trace</a> v n -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Core-Types.html#setTrace" class="link">Source</a> <a href="#v:setTrace" class="selflink">#</a></p><div class="doc"><p>Replace the trace of a diagram.</p></div></div><h1 id="g:13">Subdiagrams</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Subdiagram" class="def">Subdiagram</a> b v n m <a href="src/Diagrams-Core-Types.html#Subdiagram" class="link">Source</a> <a href="#t:Subdiagram" class="selflink">#</a></p><div class="doc"><p>A <code>Subdiagram</code> represents a diagram embedded within the context
   of a larger diagram.  Essentially, it consists of a diagram
   paired with any accumulated information from the larger context
   (transformations, attributes, etc.).</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Subdiagram" class="def">Subdiagram</a> (<a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) (<a href="Diagrams-Core-Types.html#t:DownAnnots">DownAnnots</a> v n)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Subdiagram" class="caption collapser" onclick="toggleSection('i:Subdiagram')">Instances</p><div id="section.i:Subdiagram" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Subdiagram:Functor:1" class="instance expander" onclick="toggleSection('i:id:Subdiagram:Functor:1')"></span> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Functor.html#t:Functor">Functor</a> (<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n)</span> <a href="src/Diagrams-Core-Types.html#line-612" class="link">Source</a> <a href="#t:Subdiagram" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Subdiagram:Functor:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n a -&gt; <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n b -&gt; <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n a <a href="#v:-60--36-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Subdiagram:HasOrigin:2" class="instance expander" onclick="toggleSection('i:id:Subdiagram:HasOrigin:2')"></span> (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n) =&gt; <a href="Diagrams-Core-HasOrigin.html#t:HasOrigin">HasOrigin</a> (<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-623" class="link">Source</a> <a href="#t:Subdiagram" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Subdiagram:HasOrigin:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:moveOriginTo">moveOriginTo</a> :: <a href="Diagrams-Core-Points.html#t:Point">Point</a> (<a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m)) (<a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m)) -&gt; <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m <a href="src/Diagrams-Core-HasOrigin.html#moveOriginTo" class="link">Source</a> <a href="#v:moveOriginTo" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Subdiagram:Transformable:3" class="instance expander" onclick="toggleSection('i:id:Subdiagram:Transformable:3')"></span> <a href="Diagrams-Core-Transform.html#t:Transformable">Transformable</a> (<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-627" class="link">Source</a> <a href="#t:Subdiagram" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Subdiagram:Transformable:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:transform">transform</a> :: <a href="Diagrams-Core-Transform.html#t:Transformation">Transformation</a> (<a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m)) (<a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m)) -&gt; <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m <a href="src/Diagrams-Core-Transform.html#transform" class="link">Source</a> <a href="#v:transform" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Subdiagram:Traced:4" class="instance expander" onclick="toggleSection('i:id:Subdiagram:Traced:4')"></span> (<a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="Diagrams-Core-Trace.html#t:Traced">Traced</a> (<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-619" class="link">Source</a> <a href="#t:Subdiagram" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Subdiagram:Traced:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getTrace">getTrace</a> :: <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m -&gt; <a href="Diagrams-Core-Trace.html#t:Trace">Trace</a> (<a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m)) (<a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m)) <a href="src/Diagrams-Core-Trace.html#getTrace" class="link">Source</a> <a href="#v:getTrace" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Subdiagram:Enveloped:5" class="instance expander" onclick="toggleSection('i:id:Subdiagram:Enveloped:5')"></span> (<a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; <a href="Diagrams-Core-Envelope.html#t:Enveloped">Enveloped</a> (<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-615" class="link">Source</a> <a href="#t:Subdiagram" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Subdiagram:Enveloped:5" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:getEnvelope">getEnvelope</a> :: <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m -&gt; <a href="Diagrams-Core-Envelope.html#t:Envelope">Envelope</a> (<a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m)) (<a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m)) <a href="src/Diagrams-Core-Envelope.html#getEnvelope" class="link">Source</a> <a href="#v:getEnvelope" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Subdiagram:N:6" class="instance expander" onclick="toggleSection('i:id:Subdiagram:N:6')"></span> <span class="keyword">type</span> <a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-594" class="link">Source</a> <a href="#t:Subdiagram" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Subdiagram:N:6" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m) = n</div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Subdiagram:V:7" class="instance expander" onclick="toggleSection('i:id:Subdiagram:V:7')"></span> <span class="keyword">type</span> <a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-593" class="link">Source</a> <a href="#t:Subdiagram" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Subdiagram:V:7" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m) = v</div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:mkSubdiagram" class="def">mkSubdiagram</a> :: <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m <a href="src/Diagrams-Core-Types.html#mkSubdiagram" class="link">Source</a> <a href="#v:mkSubdiagram" class="selflink">#</a></p><div class="doc"><p>Turn a diagram into a subdiagram with no accumulated context.</p></div></div><div class="top"><p class="src"><a id="v:getSub" class="def">getSub</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Core-Types.html#getSub" class="link">Source</a> <a href="#v:getSub" class="selflink">#</a></p><div class="doc"><p>Turn a subdiagram into a normal diagram, including the enclosing
   context.  Concretely, a subdiagram is a pair of (1) a diagram and
   (2) a &quot;context&quot; consisting of an extra transformation and
   attributes.  <code>getSub</code> simply applies the transformation and
   attributes to the diagram to get the corresponding &quot;top-level&quot;
   diagram.</p></div></div><div class="top"><p class="src"><a id="v:rawSub" class="def">rawSub</a> :: <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Core-Types.html#rawSub" class="link">Source</a> <a href="#v:rawSub" class="selflink">#</a></p><div class="doc"><p>Extract the &quot;raw&quot; content of a subdiagram, by throwing away the
   context.</p></div></div><div class="top"><p class="src"><a id="v:location" class="def">location</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Vector.html#t:Additive">Additive</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Num">Num</a> n) =&gt; <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m -&gt; <a href="Diagrams-Core-Points.html#t:Point">Point</a> v n <a href="src/Diagrams-Core-Types.html#location" class="link">Source</a> <a href="#v:location" class="selflink">#</a></p><div class="doc"><p>Get the location of a subdiagram; that is, the location of its
   local origin <em>with respect to</em> the vector space of its parent
   diagram.  In other words, the point where its local origin
   &quot;ended up&quot;.</p></div></div><div class="top"><p class="src"><a id="v:subPoint" class="def">subPoint</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n) =&gt; <a href="Diagrams-Core-Points.html#t:Point">Point</a> v n -&gt; <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m <a href="src/Diagrams-Core-Types.html#subPoint" class="link">Source</a> <a href="#v:subPoint" class="selflink">#</a></p><div class="doc"><p>Create a &quot;point subdiagram&quot;, that is, a <code><a href="Diagrams-Core-Types.html#v:pointDiagram">pointDiagram</a></code> (with no
   content and a point envelope) treated as a subdiagram with local
   origin at the given point.  Note this is not the same as
   <code>mkSubdiagram . pointDiagram</code>, which would result in a subdiagram
   with local origin at the parent origin, rather than at the given
   point.</p></div></div><h1 id="g:14">Subdiagram maps</h1><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:SubMap" class="def">SubMap</a> b v n m <a href="src/Diagrams-Core-Types.html#SubMap" class="link">Source</a> <a href="#t:SubMap" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a></code> is a map associating names to subdiagrams. There can
   be multiple associations for any given name.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:SubMap" class="def">SubMap</a> (<a href="http://hackage.haskell.org/packages/archive/containers/0.5.7.1/doc/html/Data-Map-Strict.html#t:Map">Map</a> <a href="Diagrams-Core-Names.html#t:Name">Name</a> [<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m])</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:SubMap" class="caption collapser" onclick="toggleSection('i:SubMap')">Instances</p><div id="section.i:SubMap" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SubMap:Action:1" class="instance expander" onclick="toggleSection('i:id:SubMap:Action:1')"></span> <a href="../monoid-extras/Data-Monoid-Action.html#t:Action">Action</a> <a href="Diagrams-Core-Names.html#t:Name">Name</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-713" class="link">Source</a> <a href="#t:SubMap" class="selflink">#</a></td><td class="doc"><p>A name acts on a name map by qualifying every name in it.</p></td></tr><tr><td colspan="2"><div id="section.i:id:SubMap:Action:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:act">act</a> :: <a href="Diagrams-Core-Names.html#t:Name">Name</a> -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m <a href="#v:act" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SubMap:Functor:2" class="instance expander" onclick="toggleSection('i:id:SubMap:Functor:2')"></span> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Functor.html#t:Functor">Functor</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n)</span> <a href="src/Diagrams-Core-Types.html#line-675" class="link">Source</a> <a href="#t:SubMap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:SubMap:Functor:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:fmap">fmap</a> :: (a -&gt; b) -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n a -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n b <a href="#v:fmap" class="selflink">#</a></p><p class="src"><a href="#v:-60--36-">(&lt;$)</a> :: a -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n b -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n a <a href="#v:-60--36-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SubMap:Semigroup:3" class="instance expander" onclick="toggleSection('i:id:SubMap:Semigroup:3')"></span> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-678" class="link">Source</a> <a href="#t:SubMap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:SubMap:Semigroup:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-List-NonEmpty.html#t:NonEmpty">NonEmpty</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m) -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Integral">Integral</a> b =&gt; b -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m <a href="#v:stimes" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SubMap:Monoid:4" class="instance expander" onclick="toggleSection('i:id:SubMap:Monoid:4')"></span> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#t:Monoid">Monoid</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-686" class="link">Source</a> <a href="#t:SubMap" class="selflink">#</a></td><td class="doc"><p><code><a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a></code>s form a monoid with the empty map as the identity, and
   map union as the binary operation.  No information is ever lost:
   if two maps have the same name in their domain, the resulting map
   will associate that name to the concatenation of the information
   associated with that name.</p></td></tr><tr><td colspan="2"><div id="section.i:id:SubMap:Monoid:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m] -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m <a href="#v:mconcat" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SubMap:Wrapped:5" class="instance expander" onclick="toggleSection('i:id:SubMap:Wrapped:5')"></span> <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Wrapped.html#t:Wrapped">Wrapped</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-661" class="link">Source</a> <a href="#t:SubMap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:SubMap:Wrapped:5" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Wrapped.html#t:Unwrapped">Unwrapped</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m) :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a> <a href="#t:Unwrapped" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:_Wrapped-39-">_Wrapped'</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Iso-39-">Iso'</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m) (<a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Wrapped.html#t:Unwrapped">Unwrapped</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m)) <a href="#v:_Wrapped-39-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SubMap:HasOrigin:6" class="instance expander" onclick="toggleSection('i:id:SubMap:HasOrigin:6')"></span> (<a href="Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v) =&gt; <a href="Diagrams-Core-HasOrigin.html#t:HasOrigin">HasOrigin</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-690" class="link">Source</a> <a href="#t:SubMap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:SubMap:HasOrigin:6" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:moveOriginTo">moveOriginTo</a> :: <a href="Diagrams-Core-Points.html#t:Point">Point</a> (<a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m)) (<a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m)) -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m <a href="src/Diagrams-Core-HasOrigin.html#moveOriginTo" class="link">Source</a> <a href="#v:moveOriginTo" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SubMap:Transformable:7" class="instance expander" onclick="toggleSection('i:id:SubMap:Transformable:7')"></span> <a href="Diagrams-Core-Transform.html#t:Transformable">Transformable</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-694" class="link">Source</a> <a href="#t:SubMap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:SubMap:Transformable:7" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:transform">transform</a> :: <a href="Diagrams-Core-Transform.html#t:Transformation">Transformation</a> (<a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m)) (<a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m)) -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m <a href="src/Diagrams-Core-Transform.html#transform" class="link">Source</a> <a href="#v:transform" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SubMap:Qualifiable:8" class="instance expander" onclick="toggleSection('i:id:SubMap:Qualifiable:8')"></span> <a href="Diagrams-Core-Names.html#t:Qualifiable">Qualifiable</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-700" class="link">Source</a> <a href="#t:SubMap" class="selflink">#</a></td><td class="doc"><p><code><a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a></code>s are qualifiable: if <code>ns</code> is a <code><a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a></code>, then <code>a |&gt;
   ns</code> is the same <code><a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a></code> except with every name qualified by
   <code>a</code>.</p></td></tr><tr><td colspan="2"><div id="section.i:id:SubMap:Qualifiable:8" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:.-62--62-">(.&gt;&gt;)</a> :: <a href="Diagrams-Core-Names.html#t:IsName">IsName</a> a =&gt; a -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m <a href="src/Diagrams-Core-Names.html#.%3E%3E" class="link">Source</a> <a href="#v:.-62--62-" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SubMap:Rewrapped:9" class="instance expander" onclick="toggleSection('i:id:SubMap:Rewrapped:9')"></span> <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Wrapped.html#t:Rewrapped">Rewrapped</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m) (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b' v' n' m')</span> <a href="src/Diagrams-Core-Types.html#line-665" class="link">Source</a> <a href="#t:SubMap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:SubMap:Rewrapped:9" class="inst-details hide"></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SubMap:Unwrapped:10" class="instance expander" onclick="toggleSection('i:id:SubMap:Unwrapped:10')"></span> <span class="keyword">type</span> <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Wrapped.html#t:Unwrapped">Unwrapped</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-662" class="link">Source</a> <a href="#t:SubMap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:SubMap:Unwrapped:10" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Wrapped.html#t:Unwrapped">Unwrapped</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m) = <a href="http://hackage.haskell.org/packages/archive/containers/0.5.7.1/doc/html/Data-Map-Strict.html#t:Map">Map</a> <a href="Diagrams-Core-Names.html#t:Name">Name</a> [<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m]</div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SubMap:N:11" class="instance expander" onclick="toggleSection('i:id:SubMap:N:11')"></span> <span class="keyword">type</span> <a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-673" class="link">Source</a> <a href="#t:SubMap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:SubMap:N:11" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m) = n</div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:SubMap:V:12" class="instance expander" onclick="toggleSection('i:id:SubMap:V:12')"></span> <span class="keyword">type</span> <a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m)</span> <a href="src/Diagrams-Core-Types.html#line-672" class="link">Source</a> <a href="#t:SubMap" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:SubMap:V:12" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m) = v</div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:fromNames" class="def">fromNames</a> :: <a href="Diagrams-Core-Names.html#t:IsName">IsName</a> a =&gt; [(a, <a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m)] -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m <a href="src/Diagrams-Core-Types.html#fromNames" class="link">Source</a> <a href="#v:fromNames" class="selflink">#</a></p><div class="doc"><p>Construct a <code><a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a></code> from a list of associations between names
   and subdiagrams.</p></div></div><div class="top"><p class="src"><a id="v:rememberAs" class="def">rememberAs</a> :: <a href="Diagrams-Core-Names.html#t:IsName">IsName</a> a =&gt; a -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m <a href="src/Diagrams-Core-Types.html#rememberAs" class="link">Source</a> <a href="#v:rememberAs" class="selflink">#</a></p><div class="doc"><p>Add a name/diagram association to a submap.</p></div></div><div class="top"><p class="src"><a id="v:lookupSub" class="def">lookupSub</a> :: <a href="Diagrams-Core-Names.html#t:IsName">IsName</a> nm =&gt; nm -&gt; <a href="Diagrams-Core-Types.html#t:SubMap">SubMap</a> b v n m -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Maybe.html#t:Maybe">Maybe</a> [<a href="Diagrams-Core-Types.html#t:Subdiagram">Subdiagram</a> b v n m] <a href="src/Diagrams-Core-Types.html#lookupSub" class="link">Source</a> <a href="#v:lookupSub" class="selflink">#</a></p><div class="doc"><p>Look for the given name in a name map, returning a list of
   subdiagrams associated with that name.  If no names match the
   given name exactly, return all the subdiagrams associated with
   names of which the given name is a suffix.</p></div></div><h1 id="g:15">Primtives</h1><div class="doc"><p>Ultimately, every diagram is essentially a tree whose leaves are <em>primitives</em>,
 basic building blocks which can be rendered by backends.  However,
 not every backend must be able to render every type of primitive;
 the collection of primitives a given backend knows how to render is
 determined by instances of <code><a href="Diagrams-Core-Types.html#t:Renderable">Renderable</a></code>.</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Prim" class="def">Prim</a> b v n <span class="keyword">where</span> <a href="src/Diagrams-Core-Types.html#Prim" class="link">Source</a> <a href="#t:Prim" class="selflink">#</a></p><div class="doc"><p>A value of type <code>Prim b v n</code> is an opaque (existentially quantified)
   primitive which backend <code>b</code> knows how to render in vector space <code>v</code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Prim" class="def">Prim</a> :: (<a href="Diagrams-Core-Transform.html#t:Transformable">Transformable</a> p, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Typeable-Internal.html#t:Typeable">Typeable</a> p, <a href="Diagrams-Core-Types.html#t:Renderable">Renderable</a> p b) =&gt; p -&gt; <a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b (<a href="Diagrams-Core-V.html#t:V">V</a> p) (<a href="Diagrams-Core-V.html#t:N">N</a> p)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Prim" class="caption collapser" onclick="toggleSection('i:Prim')">Instances</p><div id="section.i:Prim" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Prim:Transformable:1" class="instance expander" onclick="toggleSection('i:id:Prim:Transformable:1')"></span> <a href="Diagrams-Core-Transform.html#t:Transformable">Transformable</a> (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n)</span> <a href="src/Diagrams-Core-Types.html#line-762" class="link">Source</a> <a href="#t:Prim" class="selflink">#</a></td><td class="doc"><p>The <code><a href="Diagrams-Core-Transform.html#t:Transformable">Transformable</a></code> instance for <code><a href="Diagrams-Core-Types.html#t:Prim">Prim</a></code> just pushes calls to
   <code><a href="Diagrams-Core-Transform.html#v:transform">transform</a></code> down through the <code><a href="Diagrams-Core-Types.html#t:Prim">Prim</a></code> constructor.</p></td></tr><tr><td colspan="2"><div id="section.i:id:Prim:Transformable:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:transform">transform</a> :: <a href="Diagrams-Core-Transform.html#t:Transformation">Transformation</a> (<a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n)) (<a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n)) -&gt; <a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n -&gt; <a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n <a href="src/Diagrams-Core-Transform.html#transform" class="link">Source</a> <a href="#v:transform" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Prim:Renderable:2" class="instance expander" onclick="toggleSection('i:id:Prim:Renderable:2')"></span> <a href="Diagrams-Core-Types.html#t:Renderable">Renderable</a> (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n) b</span> <a href="src/Diagrams-Core-Types.html#line-767" class="link">Source</a> <a href="#t:Prim" class="selflink">#</a></td><td class="doc"><p>The <code><a href="Diagrams-Core-Types.html#t:Renderable">Renderable</a></code> instance for <code><a href="Diagrams-Core-Types.html#t:Prim">Prim</a></code> just pushes calls to
   <code><a href="Diagrams-Core-Types.html#v:render">render</a></code> down through the <code><a href="Diagrams-Core-Types.html#t:Prim">Prim</a></code> constructor.</p></td></tr><tr><td colspan="2"><div id="section.i:id:Prim:Renderable:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:render">render</a> :: b -&gt; <a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n -&gt; <a href="Diagrams-Core-Types.html#t:Render">Render</a> b (<a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n)) (<a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n)) <a href="src/Diagrams-Core-Types.html#render" class="link">Source</a> <a href="#v:render" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Prim:N:3" class="instance expander" onclick="toggleSection('i:id:Prim:N:3')"></span> <span class="keyword">type</span> <a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n)</span> <a href="src/Diagrams-Core-Types.html#line-758" class="link">Source</a> <a href="#t:Prim" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Prim:N:3" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n) = n</div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:Prim:V:4" class="instance expander" onclick="toggleSection('i:id:Prim:V:4')"></span> <span class="keyword">type</span> <a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n)</span> <a href="src/Diagrams-Core-Types.html#line-757" class="link">Source</a> <a href="#t:Prim" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:Prim:V:4" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n) = v</div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:_Prim" class="def">_Prim</a> :: (<a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Typeable-Internal.html#t:Typeable">Typeable</a> p, <a href="Diagrams-Core-Types.html#t:Renderable">Renderable</a> p b) =&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b (<a href="Diagrams-Core-V.html#t:V">V</a> p) (<a href="Diagrams-Core-V.html#t:N">N</a> p)) p <a href="src/Diagrams-Core-Types.html#_Prim" class="link">Source</a> <a href="#v:_Prim" class="selflink">#</a></p></div><h1 id="g:16">Backends</h1><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:Backend" class="def">Backend</a> b v n <span class="keyword">where</span> <a href="src/Diagrams-Core-Types.html#Backend" class="link">Source</a> <a href="#t:Backend" class="selflink">#</a></p><div class="doc"><p>Abstract diagrams are rendered to particular formats by
   <em>backends</em>.  Each backend/vector space combination must be an
   instance of the <code><a href="Diagrams-Core-Types.html#t:Backend">Backend</a></code> class.</p><p>A minimal complete definition consists of <code><a href="Diagrams-Core-Types.html#t:Render">Render</a></code>, <code><a href="Diagrams-Core-Types.html#t:Result">Result</a></code>,
   <code><a href="Diagrams-Core-Types.html#t:Options">Options</a></code>, and <code><a href="Diagrams-Core-Types.html#v:renderRTree">renderRTree</a></code>. However, most backends will want to
   implement <code><a href="Diagrams-Core-Types.html#v:adjustDia">adjustDia</a></code> as well; the default definition does
   nothing.  Some useful standard definitions are provided in the
   <code>Diagrams.TwoD.Adjust</code> module from the <code>diagrams-lib</code> package.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Diagrams-Core-Types.html#v:renderRTree">renderRTree</a></p></div><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a id="t:Render" class="def">Render</a> b v n :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a> <a href="src/Diagrams-Core-Types.html#Render" class="link">Source</a> <a href="#t:Render" class="selflink">#</a></p><div class="doc"><p>An intermediate representation used for rendering primitives.
   (Typically, this will be some sort of monad, but it need not
   be.)  The <code><a href="Diagrams-Core-Types.html#t:Renderable">Renderable</a></code> class guarantees that a backend will be
   able to convert primitives into this type; how these rendered
   primitives are combined into an ultimate <code><a href="Diagrams-Core-Types.html#t:Result">Result</a></code> is completely
   up to the backend.</p></div><p class="src"><span class="keyword">type</span> <a id="t:Result" class="def">Result</a> b v n :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a> <a href="src/Diagrams-Core-Types.html#Result" class="link">Source</a> <a href="#t:Result" class="selflink">#</a></p><div class="doc"><p>The result of running/interpreting a rendering operation.</p></div><p class="src"><span class="keyword">data</span> <a id="t:Options" class="def">Options</a> b v n :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a> <a href="src/Diagrams-Core-Types.html#Options" class="link">Source</a> <a href="#t:Options" class="selflink">#</a></p><div class="doc"><p>Backend-specific rendering options.</p></div></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:adjustDia" class="def">adjustDia</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Vector.html#t:Additive">Additive</a> v, <a href="Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Num">Num</a> n) =&gt; b -&gt; <a href="Diagrams-Core-Types.html#t:Options">Options</a> b v n -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; (<a href="Diagrams-Core-Types.html#t:Options">Options</a> b v n, <a href="Diagrams-Core-Transform.html#t:Transformation">Transformation</a> v n, <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) <a href="src/Diagrams-Core-Types.html#adjustDia" class="link">Source</a> <a href="#v:adjustDia" class="selflink">#</a></p><div class="doc"><p><code><a href="Diagrams-Core-Types.html#v:adjustDia">adjustDia</a></code> allows the backend to make adjustments to the final
   diagram (e.g. to adjust the size based on the options) before
   rendering it. It returns a modified options record, the
   transformation applied to the diagram (which can be used to
   convert attributes whose value is <code>Measure</code>, or transform
   <em>e.g.</em> screen coordinates back into local diagram coordinates),
   and the adjusted diagram itself.</p><p>See the diagrams-lib package (particularly the
   <code>Diagrams.TwoD.Adjust</code> module) for some useful implementations.</p></div><p class="src"><a id="v:renderRTree" class="def">renderRTree</a> :: b -&gt; <a href="Diagrams-Core-Types.html#t:Options">Options</a> b v n -&gt; <a href="Diagrams-Core-Types.html#t:RTree">RTree</a> b v n <a href="Diagrams-Core-Types.html#t:Annotation">Annotation</a> -&gt; <a href="Diagrams-Core-Types.html#t:Result">Result</a> b v n <a href="src/Diagrams-Core-Types.html#renderRTree" class="link">Source</a> <a href="#v:renderRTree" class="selflink">#</a></p><div class="doc"><p>Given some options, take a representation of a diagram as a
   tree and render it.  The <code><a href="Diagrams-Core-Types.html#t:RTree">RTree</a></code> has already been simplified
   and has all measurements converted to <code>Output</code> units.</p></div></div><div class="subs instances"><p id="control.i:Backend" class="caption collapser" onclick="toggleSection('i:Backend')">Instances</p><div id="section.i:Backend" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:Backend:Backend:1" class="instance expander" onclick="toggleSection('i:ic:Backend:Backend:1')"></span> <a href="Diagrams-Core-Types.html#t:Backend">Backend</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n</span> <a href="src/Diagrams-Core-Types.html#line-973" class="link">Source</a> <a href="#t:Backend" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:Backend:Backend:1" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a href="Diagrams-Core-Types.html#t:Render">Render</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> (v :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a>) n :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a> <a href="src/Diagrams-Core-Types.html#Render" class="link">Source</a> <a href="#t:Render" class="selflink">#</a></p><p class="src"><span class="keyword">type</span> <a href="Diagrams-Core-Types.html#t:Result">Result</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> (v :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a>) n :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a> <a href="src/Diagrams-Core-Types.html#Result" class="link">Source</a> <a href="#t:Result" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Diagrams-Core-Types.html#t:Options">Options</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> (v :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a>) n :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a> <a href="src/Diagrams-Core-Types.html#Options" class="link">Source</a> <a href="#t:Options" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:adjustDia">adjustDia</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Vector.html#t:Additive">Additive</a> v, <a href="Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Num">Num</a> n) =&gt; <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> -&gt; <a href="Diagrams-Core-Types.html#t:Options">Options</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n m -&gt; (<a href="Diagrams-Core-Types.html#t:Options">Options</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n, <a href="Diagrams-Core-Transform.html#t:Transformation">Transformation</a> v n, <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n m) <a href="src/Diagrams-Core-Types.html#adjustDia" class="link">Source</a> <a href="#v:adjustDia" class="selflink">#</a></p><p class="src"><a href="#v:renderRTree">renderRTree</a> :: <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> -&gt; <a href="Diagrams-Core-Types.html#t:Options">Options</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n -&gt; <a href="Diagrams-Core-Types.html#t:RTree">RTree</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n <a href="Diagrams-Core-Types.html#t:Annotation">Annotation</a> -&gt; <a href="Diagrams-Core-Types.html#t:Result">Result</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n <a href="src/Diagrams-Core-Types.html#renderRTree" class="link">Source</a> <a href="#v:renderRTree" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:DTree" class="def">DTree</a> b v n a = <a href="http://hackage.haskell.org/packages/archive/containers/0.5.7.1/doc/html/Data-Tree.html#t:Tree">Tree</a> (<a href="Diagrams-Core-Types.html#t:DNode">DNode</a> b v n a) <a href="src/Diagrams-Core-Types.html#DTree" class="link">Source</a> <a href="#t:DTree" class="selflink">#</a></p><div class="doc"><p>A <code><a href="Diagrams-Core-Types.html#t:DTree">DTree</a></code> is a raw tree representation of a <code><a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a></code>, with all
   the <code>u</code>-annotations removed.  It is used as an intermediate type
   by diagrams-core; backends should not need to make use of it.
   Instead, backends can make use of <code><a href="Diagrams-Core-Types.html#t:RTree">RTree</a></code>, which <code><a href="Diagrams-Core-Types.html#t:DTree">DTree</a></code> gets
   compiled and optimized to.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:DNode" class="def">DNode</a> b v n a <a href="src/Diagrams-Core-Types.html#DNode" class="link">Source</a> <a href="#t:DNode" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:DStyle" class="def">DStyle</a> (<a href="Diagrams-Core-Style.html#t:Style">Style</a> v n)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:DTransform" class="def">DTransform</a> (<a href="Diagrams-Core-Transform.html#t:Transformation">Transformation</a> v n)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:DAnnot" class="def">DAnnot</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:DDelay" class="def">DDelay</a></td><td class="doc"><p><code>DDelay</code> marks a point where a delayed subtree
   was expanded.  Such subtrees already take all
   non-frozen transforms above them into account,
   so when later processing the tree, upon
   encountering a <code>DDelay</code> node we must drop any
   accumulated non-frozen transformation.</p></td></tr><tr><td class="src"><a id="v:DPrim" class="def">DPrim</a> (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:DEmpty" class="def">DEmpty</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:RTree" class="def">RTree</a> b v n a = <a href="http://hackage.haskell.org/packages/archive/containers/0.5.7.1/doc/html/Data-Tree.html#t:Tree">Tree</a> (<a href="Diagrams-Core-Types.html#t:RNode">RNode</a> b v n a) <a href="src/Diagrams-Core-Types.html#RTree" class="link">Source</a> <a href="#t:RTree" class="selflink">#</a></p><div class="doc"><p>An <code><a href="Diagrams-Core-Types.html#t:RTree">RTree</a></code> is a compiled and optimized representation of a
   <code><a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a></code>, which can be used by backends.  They have the
   following invariant which backends may rely upon:</p><ul><li><code>RPrim</code> nodes never have any children.</li></ul></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:RNode" class="def">RNode</a> b v n a <a href="src/Diagrams-Core-Types.html#RNode" class="link">Source</a> <a href="#t:RNode" class="selflink">#</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:RStyle" class="def">RStyle</a> (<a href="Diagrams-Core-Style.html#t:Style">Style</a> v n)</td><td class="doc"><p>A style node.</p></td></tr><tr><td class="src"><a id="v:RAnnot" class="def">RAnnot</a> a</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:RPrim" class="def">RPrim</a> (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n)</td><td class="doc"><p>A primitive.</p></td></tr><tr><td class="src"><a id="v:REmpty" class="def">REmpty</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div><div class="top"><p class="src"><a id="v:_RStyle" class="def">_RStyle</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> (<a href="Diagrams-Core-Types.html#t:RNode">RNode</a> b v n a) (<a href="Diagrams-Core-Style.html#t:Style">Style</a> v n) <a href="src/Diagrams-Core-Types.html#_RStyle" class="link">Source</a> <a href="#v:_RStyle" class="selflink">#</a></p><div class="doc"><p>Prism onto a style of an <code><a href="Diagrams-Core-Types.html#t:RNode">RNode</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:_RAnnot" class="def">_RAnnot</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> (<a href="Diagrams-Core-Types.html#t:RNode">RNode</a> b v n a) a <a href="src/Diagrams-Core-Types.html#_RAnnot" class="link">Source</a> <a href="#v:_RAnnot" class="selflink">#</a></p><div class="doc"><p>Prism onto an annotation of an <code><a href="Diagrams-Core-Types.html#t:RNode">RNode</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:_RPrim" class="def">_RPrim</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> (<a href="Diagrams-Core-Types.html#t:RNode">RNode</a> b v n a) (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n) <a href="src/Diagrams-Core-Types.html#_RPrim" class="link">Source</a> <a href="#v:_RPrim" class="selflink">#</a></p><div class="doc"><p>Prism onto a <code><a href="Diagrams-Core-Types.html#t:Prim">Prim</a></code> of an <code><a href="Diagrams-Core-Types.html#t:RNode">RNode</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:_REmpty" class="def">_REmpty</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Prism-39-">Prism'</a> (<a href="Diagrams-Core-Types.html#t:RNode">RNode</a> b v n a) () <a href="src/Diagrams-Core-Types.html#_REmpty" class="link">Source</a> <a href="#v:_REmpty" class="selflink">#</a></p><div class="doc"><p>Prism onto an empty <code><a href="Diagrams-Core-Types.html#t:RNode">RNode</a></code>.</p></div></div><h2 id="g:17">Null backend</h2><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:NullBackend" class="def">NullBackend</a> <a href="src/Diagrams-Core-Types.html#NullBackend" class="link">Source</a> <a href="#t:NullBackend" class="selflink">#</a></p><div class="doc"><p>A null backend which does no actual rendering.  It is provided
   mainly for convenience in situations where you must give a
   diagram a concrete, monomorphic type, but don't actually care
   which one.  See <code><a href="Diagrams-Core-Types.html#t:D">D</a></code> for more explanation and examples.</p><p>It is courteous, when defining a new primitive <code>P</code>, to make an instance</p><pre>instance Renderable P NullBackend where
  render _ _ = mempty</pre><p>This ensures that the trick with <code><a href="Diagrams-Core-Types.html#t:D">D</a></code> annotations can be used for
   diagrams containing your primitive.</p></div><div class="subs instances"><p id="control.i:NullBackend" class="caption collapser" onclick="toggleSection('i:NullBackend')">Instances</p><div id="section.i:NullBackend" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:NullBackend:Backend:1" class="instance expander" onclick="toggleSection('i:id:NullBackend:Backend:1')"></span> <a href="Diagrams-Core-Types.html#t:Backend">Backend</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n</span> <a href="src/Diagrams-Core-Types.html#line-973" class="link">Source</a> <a href="#t:NullBackend" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:NullBackend:Backend:1" class="inst-details hide"><div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">data</span> <a href="Diagrams-Core-Types.html#t:Render">Render</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> (v :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a>) n :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a> <a href="src/Diagrams-Core-Types.html#Render" class="link">Source</a> <a href="#t:Render" class="selflink">#</a></p><p class="src"><span class="keyword">type</span> <a href="Diagrams-Core-Types.html#t:Result">Result</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> (v :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a>) n :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a> <a href="src/Diagrams-Core-Types.html#Result" class="link">Source</a> <a href="#t:Result" class="selflink">#</a></p><p class="src"><span class="keyword">data</span> <a href="Diagrams-Core-Types.html#t:Options">Options</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> (v :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a> -&gt; <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a>) n :: <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a> <a href="src/Diagrams-Core-Types.html#Options" class="link">Source</a> <a href="#t:Options" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:adjustDia">adjustDia</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Vector.html#t:Additive">Additive</a> v, <a href="Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Num">Num</a> n) =&gt; <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> -&gt; <a href="Diagrams-Core-Types.html#t:Options">Options</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n -&gt; <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n m -&gt; (<a href="Diagrams-Core-Types.html#t:Options">Options</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n, <a href="Diagrams-Core-Transform.html#t:Transformation">Transformation</a> v n, <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n m) <a href="src/Diagrams-Core-Types.html#adjustDia" class="link">Source</a> <a href="#v:adjustDia" class="selflink">#</a></p><p class="src"><a href="#v:renderRTree">renderRTree</a> :: <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> -&gt; <a href="Diagrams-Core-Types.html#t:Options">Options</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n -&gt; <a href="Diagrams-Core-Types.html#t:RTree">RTree</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n <a href="Diagrams-Core-Types.html#t:Annotation">Annotation</a> -&gt; <a href="Diagrams-Core-Types.html#t:Result">Result</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n <a href="src/Diagrams-Core-Types.html#renderRTree" class="link">Source</a> <a href="#v:renderRTree" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:NullBackend:Monoid:2" class="instance expander" onclick="toggleSection('i:id:NullBackend:Monoid:2')"></span> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#t:Monoid">Monoid</a> (<a href="Diagrams-Core-Types.html#t:Render">Render</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n)</span> <a href="src/Diagrams-Core-Types.html#line-969" class="link">Source</a> <a href="#t:NullBackend" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:NullBackend:Monoid:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Diagrams-Core-Types.html#t:Render">Render</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Diagrams-Core-Types.html#t:Render">Render</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n -&gt; <a href="Diagrams-Core-Types.html#t:Render">Render</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n -&gt; <a href="Diagrams-Core-Types.html#t:Render">Render</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Diagrams-Core-Types.html#t:Render">Render</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n] -&gt; <a href="Diagrams-Core-Types.html#t:Render">Render</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n <a href="#v:mconcat" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:NullBackend:Render:3" class="instance expander" onclick="toggleSection('i:id:NullBackend:Render:3')"></span> <span class="keyword">data</span> <a href="Diagrams-Core-Types.html#t:Render">Render</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a></span> <a href="src/Diagrams-Core-Types.html#line-974" class="link">Source</a> <a href="#t:NullBackend" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:NullBackend:Render:3" class="inst-details hide"><div class="src"><span class="keyword">data</span> <a href="Diagrams-Core-Types.html#t:Render">Render</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> = <a id="v:NullBackendRender" class="def">NullBackendRender</a></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:NullBackend:Options:4" class="instance expander" onclick="toggleSection('i:id:NullBackend:Options:4')"></span> <span class="keyword">data</span> <a href="Diagrams-Core-Types.html#t:Options">Options</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a></span> <a href="src/Diagrams-Core-Types.html#line-976" class="link">Source</a> <a href="#t:NullBackend" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:NullBackend:Options:4" class="inst-details hide"><div class="src"><span class="keyword">data</span> <a href="Diagrams-Core-Types.html#t:Options">Options</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:NullBackend:Result:5" class="instance expander" onclick="toggleSection('i:id:NullBackend:Result:5')"></span> <span class="keyword">type</span> <a href="Diagrams-Core-Types.html#t:Result">Result</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n</span> <a href="src/Diagrams-Core-Types.html#line-975" class="link">Source</a> <a href="#t:NullBackend" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:NullBackend:Result:5" class="inst-details hide"><div class="src"><span class="keyword">type</span> <a href="Diagrams-Core-Types.html#t:Result">Result</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n = ()</div></div></td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:D" class="def">D</a> v n = <a href="Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> <a href="Diagrams-Core-Types.html#t:NullBackend">NullBackend</a> v n <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#t:Any">Any</a> <a href="src/Diagrams-Core-Types.html#D" class="link">Source</a> <a href="#t:D" class="selflink">#</a></p><div class="doc"><p>The <code>D</code> type is provided for convenience in situations where you
   must give a diagram a concrete, monomorphic type, but don't care
   which one.  Such situations arise when you pass a diagram to a
   function which is polymorphic in its input but monomorphic in its
   output, such as <code>width</code>, <code>height</code>, <code>phantom</code>, or <code><a href="Diagrams-Core-Types.html#v:names">names</a></code>.  Such
   functions compute some property of the diagram, or use it to
   accomplish some other purpose, but do not result in the diagram
   being rendered.  If the diagram does not have a monomorphic type,
   GHC complains that it cannot determine the diagram's type.</p><p>For example, here is the error we get if we try to compute the
   width of an image (this example requires <code>diagrams-lib</code>):</p><pre>  ghci&gt; width (image (uncheckedImageRef &quot;foo.png&quot; 200 200))
  &lt;interactive&gt;:11:8:
      No instance for (Renderable (DImage n0 External) b0)
        arising from a use of <code>image</code>
      The type variables <code>n0</code>, <code>b0</code> are ambiguous
      Possible fix: add a type signature that fixes these type variable(s)
      Note: there is a potential instance available:
        instance Fractional n =&gt; Renderable (DImage n a) NullBackend
          -- Defined in <code><a href="Diagrams-TwoD.html#v:Image">Image</a></code>
      Possible fix:
        add an instance declaration for
        (Renderable (DImage n0 External) b0)
      In the first argument of <code>width</code>, namely
        `(image (uncheckedImageRef &quot;foo.png&quot; 200 200))'
      In the expression:
        width (image (uncheckedImageRef &quot;foo.png&quot; 200 200))
      In an equation for <code>it</code>:
          it = width (image (uncheckedImageRef &quot;foo.png&quot; 200 200))
  </pre><p>GHC complains that there is no instance for <code>Renderable (DImage n0
   External) b0</code>; what is really going on is that it does not have enough
   information to decide what backend to use (hence the
   uninstantiated <code>n0</code> and <code>b0</code>). This is annoying because <em>we</em> know that the
   choice of backend cannot possibly affect the width of the image
   (it's 200! it's right there in the code!); <em>but</em> there is no way
   for GHC to know that.</p><p>The solution is to annotate the call to <code>image</code> with the type
   <code><code><a href="Diagrams-Core-Types.html#t:D">D</a></code> <code>V2</code> <code><a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Double">Double</a></code></code>, like so:</p><pre>  ghci&gt; width (image (uncheckedImageRef &quot;foo.png&quot; 200 200) :: D V2 Double)
  200.00000000000006
  </pre><p>(It turns out the width wasn't 200 after all...)</p><p>As another example, here is the error we get if we try to compute
   the width of a radius-1 circle:</p><pre>  ghci&gt; width (circle 1)
  &lt;interactive&gt;:12:1:
      Couldn't match expected type <code>V2</code> with actual type `V a0'
      The type variable <code>a0</code> is ambiguous
      Possible fix: add a type signature that fixes these type variable(s)
      In the expression: width (circle 1)
      In an equation for <code>it</code>: it = width (circle 1)
  </pre><p>There's even more ambiguity here.  Whereas <code>image</code> always returns
   a <code><a href="Diagrams-Core-Types.html#t:Diagram">Diagram</a></code>, the <code>circle</code> function can produce any <code>TrailLike</code>
   type, and the <code>width</code> function can consume any <code><a href="Diagrams-Core-Envelope.html#t:Enveloped">Enveloped</a></code> type,
   so GHC has no idea what type to pick to go in the middle.
   However, the solution is the same:</p><pre>  ghci&gt; width (circle 1 :: D V2 Double)
  1.9999999999999998
  </pre></div></div><h2 id="g:18">Number classes</h2><div class="top"><p class="src"><span class="keyword">class</span> (<a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Typeable-Internal.html#t:Typeable">Typeable</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:RealFloat">RealFloat</a> n) =&gt; <a id="t:TypeableFloat" class="def">TypeableFloat</a> n <a href="src/Diagrams-Core-Types.html#TypeableFloat" class="link">Source</a> <a href="#t:TypeableFloat" class="selflink">#</a></p><div class="doc"><p>Class of numbers that are <code><a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:RealFloat">RealFloat</a></code> and <code><a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Typeable-Internal.html#t:Typeable">Typeable</a></code>. This class is used to
   shorten type constraints.</p></div><div class="subs instances"><p id="control.i:TypeableFloat" class="caption collapser" onclick="toggleSection('i:TypeableFloat')">Instances</p><div id="section.i:TypeableFloat" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:TypeableFloat:TypeableFloat:1" class="instance expander" onclick="toggleSection('i:ic:TypeableFloat:TypeableFloat:1')"></span> (<a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Kind.html#t:-42-">*</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:RealFloat">RealFloat</a> n) =&gt; <a href="Diagrams-Core-Types.html#t:TypeableFloat">TypeableFloat</a> n</span> <a href="src/Diagrams-Core-Types.html#line-174" class="link">Source</a> <a href="#t:TypeableFloat" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:ic:TypeableFloat:TypeableFloat:1" class="inst-details hide"></div></td></tr></table></div></div></div><h1 id="g:19">Renderable</h1><div class="top"><p class="src"><span class="keyword">class</span> <a href="Diagrams-Core-Transform.html#t:Transformable">Transformable</a> t =&gt; <a id="t:Renderable" class="def">Renderable</a> t b <span class="keyword">where</span> <a href="src/Diagrams-Core-Types.html#Renderable" class="link">Source</a> <a href="#t:Renderable" class="selflink">#</a></p><div class="doc"><p>The Renderable type class connects backends to primitives which
   they know how to render.</p></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src"><a href="Diagrams-Core-Types.html#v:render">render</a></p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:render" class="def">render</a> :: b -&gt; t -&gt; <a href="Diagrams-Core-Types.html#t:Render">Render</a> b (<a href="Diagrams-Core-V.html#t:V">V</a> t) (<a href="Diagrams-Core-V.html#t:N">N</a> t) <a href="src/Diagrams-Core-Types.html#render" class="link">Source</a> <a href="#v:render" class="selflink">#</a></p><div class="doc"><p>Given a token representing the backend and a
   transformable object, render it in the appropriate rendering
   context.</p></div></div><div class="subs instances"><p id="control.i:Renderable" class="caption collapser" onclick="toggleSection('i:Renderable')">Instances</p><div id="section.i:Renderable" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:ic:Renderable:Renderable:1" class="instance expander" onclick="toggleSection('i:ic:Renderable:Renderable:1')"></span> <a href="Diagrams-Core-Types.html#t:Renderable">Renderable</a> (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n) b</span> <a href="src/Diagrams-Core-Types.html#line-767" class="link">Source</a> <a href="#t:Renderable" class="selflink">#</a></td><td class="doc"><p>The <code><a href="Diagrams-Core-Types.html#t:Renderable">Renderable</a></code> instance for <code><a href="Diagrams-Core-Types.html#t:Prim">Prim</a></code> just pushes calls to
   <code><a href="Diagrams-Core-Types.html#v:render">render</a></code> down through the <code><a href="Diagrams-Core-Types.html#t:Prim">Prim</a></code> constructor.</p></td></tr><tr><td colspan="2"><div id="section.i:ic:Renderable:Renderable:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:render">render</a> :: b -&gt; <a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n -&gt; <a href="Diagrams-Core-Types.html#t:Render">Render</a> b (<a href="Diagrams-Core-V.html#t:V">V</a> (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n)) (<a href="Diagrams-Core-V.html#t:N">N</a> (<a href="Diagrams-Core-Types.html#t:Prim">Prim</a> b v n)) <a href="src/Diagrams-Core-Types.html#render" class="link">Source</a> <a href="#v:render" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><h1>Orphan instances</h1><div id="section.orphans" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:o:ic:Action:Action:1" class="instance expander" onclick="toggleSection('i:o:ic:Action:Action:1')"></span> <a href="../monoid-extras/Data-Monoid-Action.html#t:Action">Action</a> <a href="Diagrams-Core-Names.html#t:Name">Name</a> a =&gt; <a href="../monoid-extras/Data-Monoid-Action.html#t:Action">Action</a> <a href="Diagrams-Core-Names.html#t:Name">Name</a> (<a href="../monoid-extras/Data-Monoid-Deletable.html#t:Deletable">Deletable</a> a)</span> <a href="src/Diagrams-Core-Types.html#line-716" class="link">Source</a> <a href="#v:-36-fActionNameDeletable" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:o:ic:Action:Action:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:act">act</a> :: <a href="Diagrams-Core-Names.html#t:Name">Name</a> -&gt; <a href="../monoid-extras/Data-Monoid-Deletable.html#t:Deletable">Deletable</a> a -&gt; <a href="../monoid-extras/Data-Monoid-Deletable.html#t:Deletable">Deletable</a> a <a href="#v:act" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:o:ic:Action:Action:2" class="instance expander" onclick="toggleSection('i:o:ic:Action:Action:2')"></span> <a href="../monoid-extras/Data-Monoid-Action.html#t:Action">Action</a> <a href="Diagrams-Core-Names.html#t:Name">Name</a> (<a href="Diagrams-Core-Trace.html#t:Trace">Trace</a> v n)</span> <a href="src/Diagrams-Core-Types.html#line-723" class="link">Source</a> <a href="#v:-36-fActionNameTrace" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:o:ic:Action:Action:2" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:act">act</a> :: <a href="Diagrams-Core-Names.html#t:Name">Name</a> -&gt; <a href="Diagrams-Core-Trace.html#t:Trace">Trace</a> v n -&gt; <a href="Diagrams-Core-Trace.html#t:Trace">Trace</a> v n <a href="#v:act" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:o:ic:Action:Action:3" class="instance expander" onclick="toggleSection('i:o:ic:Action:Action:3')"></span> <a href="../monoid-extras/Data-Monoid-Action.html#t:Action">Action</a> <a href="Diagrams-Core-Names.html#t:Name">Name</a> (<a href="Diagrams-Core-Envelope.html#t:Envelope">Envelope</a> v n)</span> <a href="src/Diagrams-Core-Types.html#line-722" class="link">Source</a> <a href="#v:-36-fActionNameEnvelope" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:o:ic:Action:Action:3" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:act">act</a> :: <a href="Diagrams-Core-Names.html#t:Name">Name</a> -&gt; <a href="Diagrams-Core-Envelope.html#t:Envelope">Envelope</a> v n -&gt; <a href="Diagrams-Core-Envelope.html#t:Envelope">Envelope</a> v n <a href="#v:act" class="selflink">#</a></p></div></div></td></tr><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:o:ic:Action:Action:4" class="instance expander" onclick="toggleSection('i:o:ic:Action:Action:4')"></span> <a href="../monoid-extras/Data-Monoid-Action.html#t:Action">Action</a> <a href="Diagrams-Core-Names.html#t:Name">Name</a> (<a href="Diagrams-Core-Query.html#t:Query">Query</a> v n m)</span> <a href="src/Diagrams-Core-Types.html#line-721" class="link">Source</a> <a href="#v:-36-fActionNameQuery" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:o:ic:Action:Action:4" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:act">act</a> :: <a href="Diagrams-Core-Names.html#t:Name">Name</a> -&gt; <a href="Diagrams-Core-Query.html#t:Query">Query</a> v n m -&gt; <a href="Diagrams-Core-Query.html#t:Query">Query</a> v n m <a href="#v:act" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.2</p></div></body></html>