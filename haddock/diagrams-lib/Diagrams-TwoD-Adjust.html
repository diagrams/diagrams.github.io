<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Diagrams.TwoD.Adjust</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Diagrams-TwoD-Adjust.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Diagrams-TwoD-Adjust.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">diagrams-lib-1.4: Embedded domain-specific language for declarative graphics</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) 2011 diagrams-lib team (see LICENSE)</td></tr><tr><th>License</th><td>BSD-style (see LICENSE)</td></tr><tr><th>Maintainer</th><td>diagrams-discuss@googlegroups.com</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Diagrams.TwoD.Adjust</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>A default diagram-adjustment implementation for two-dimensional
 diagrams, useful for backend implementors.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:setDefault2DAttributes">setDefault2DAttributes</a> :: (<a href="../diagrams-core/Diagrams-Core-Types.html#t:TypeableFloat">TypeableFloat</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n m</li><li class="src short"><a href="#v:adjustSize2D">adjustSize2D</a> :: (<a href="../diagrams-core/Diagrams-Core-Types.html#t:TypeableFloat">TypeableFloat</a> n, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="../diagrams-core/Diagrams-Core-Types.html#t:Options">Options</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n) (<a href="Diagrams-Size.html#t:SizeSpec">SizeSpec</a> <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n) -&gt; b -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:Options">Options</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n m -&gt; (<a href="../diagrams-core/Diagrams-Core-Types.html#t:Options">Options</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n, <a href="Diagrams-Transform.html#t:Transformation">Transformation</a> <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n, <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n m)</li><li class="src short"><a href="#v:adjustDia2D">adjustDia2D</a> :: (<a href="../diagrams-core/Diagrams-Core-Types.html#t:TypeableFloat">TypeableFloat</a> n, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="../diagrams-core/Diagrams-Core-Types.html#t:Options">Options</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n) (<a href="Diagrams-Size.html#t:SizeSpec">SizeSpec</a> <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n) -&gt; b -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:Options">Options</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n m -&gt; (<a href="../diagrams-core/Diagrams-Core-Types.html#t:Options">Options</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n, <a href="Diagrams-Transform.html#t:Transformation">Transformation</a> <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n, <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n m)</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:setDefault2DAttributes" class="def">setDefault2DAttributes</a> :: (<a href="../diagrams-core/Diagrams-Core-Types.html#t:TypeableFloat">TypeableFloat</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n m <a href="src/Diagrams-TwoD-Adjust.html#setDefault2DAttributes" class="link">Source</a> <a href="#v:setDefault2DAttributes" class="selflink">#</a></p><div class="doc"><p>Set default attributes of a 2D diagram (in case they have not
   been set):</p><ul><li><code><a href="Diagrams-Attributes.html#t:LineWidth">LineWidth</a></code>:  0.01</li><li><code>LineTexture</code>: solid black</li><li><code><a href="Diagrams-Attributes.html#t:LineCap">LineCap</a></code>: LineCapButt</li><li><code><a href="Diagrams-Attributes.html#t:LineJoin">LineJoin</a></code>: miter</li><li><code>MiterLimit</code>: 10</li></ul></div></div><div class="top"><p class="src"><a id="v:adjustSize2D" class="def">adjustSize2D</a> :: (<a href="../diagrams-core/Diagrams-Core-Types.html#t:TypeableFloat">TypeableFloat</a> n, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="../diagrams-core/Diagrams-Core-Types.html#t:Options">Options</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n) (<a href="Diagrams-Size.html#t:SizeSpec">SizeSpec</a> <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n) -&gt; b -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:Options">Options</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n m -&gt; (<a href="../diagrams-core/Diagrams-Core-Types.html#t:Options">Options</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n, <a href="Diagrams-Transform.html#t:Transformation">Transformation</a> <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n, <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n m) <a href="src/Diagrams-TwoD-Adjust.html#adjustSize2D" class="link">Source</a> <a href="#v:adjustSize2D" class="selflink">#</a></p><div class="doc"><p>Adjust the size and position of a 2D diagram to fit within the
   requested size. The first argument is a lens into the output
   size contained in the rendering options.  Returns an updated
   options record, any transformation applied to the diagram (the
   inverse of which can be used, say, to translate output/device
   coordinates back into local diagram coordinates), and the
   modified diagram itself.</p></div></div><div class="top"><p class="src"><a id="v:adjustDia2D" class="def">adjustDia2D</a> :: (<a href="../diagrams-core/Diagrams-Core-Types.html#t:TypeableFloat">TypeableFloat</a> n, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="../diagrams-core/Diagrams-Core-Types.html#t:Options">Options</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n) (<a href="Diagrams-Size.html#t:SizeSpec">SizeSpec</a> <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n) -&gt; b -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:Options">Options</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n m -&gt; (<a href="../diagrams-core/Diagrams-Core-Types.html#t:Options">Options</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n, <a href="Diagrams-Transform.html#t:Transformation">Transformation</a> <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n, <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b <a href="Diagrams-TwoD-Types.html#t:V2">V2</a> n m) <a href="src/Diagrams-TwoD-Adjust.html#adjustDia2D" class="link">Source</a> <a href="#v:adjustDia2D" class="selflink">#</a></p><div class="doc"><p><code>adjustDia2D</code> provides a useful default implementation of
   the <code><a href="../diagrams-core/Diagrams-Core-Types.html#v:adjustDia">adjustDia</a></code> method from the <code><a href="../diagrams-core/Diagrams-Core-Types.html#t:Backend">Backend</a></code> type class.</p><p>As its first argument it requires a lens into the output size
   contained in the rendering options.</p><p>It then performs the following adjustments:</p><ul><li>Set default attributes (see <code><a href="Diagrams-TwoD-Adjust.html#v:setDefault2DAttributes">setDefault2DAttributes</a></code>)</li><li>Scale and translate the diagram to fit within the requested
     size (see <code>adjustDiaSize2D</code>)</li></ul><p>It returns an updated options record, any transformation applied
   to the diagram (the inverse of which can be used, say, to
   translate output/device coordinates back into local diagram
   coordinates), and the modified diagram itself.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.2</p></div></body></html>