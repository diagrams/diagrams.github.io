<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Diagrams.Combinators</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Diagrams-Combinators.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Diagrams-Combinators.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">diagrams-lib-1.4: Embedded domain-specific language for declarative graphics</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) 2011 diagrams-lib team (see LICENSE)</td></tr><tr><th>License</th><td>BSD-style (see LICENSE)</td></tr><tr><th>Maintainer</th><td>diagrams-discuss@googlegroups.com</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Diagrams.Combinators</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Unary operations</a></li><li><a href="#g:2">Binary operations</a></li><li><a href="#g:3">n-ary operations</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Higher-level tools for combining diagrams.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:withEnvelope">withEnvelope</a> :: (<a href="../diagrams-core/Diagrams-Core-V.html#t:InSpace">InSpace</a> v n a, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m, <a href="Diagrams-Envelope.html#t:Enveloped">Enveloped</a> a) =&gt; a -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:withTrace">withTrace</a> :: (<a href="../diagrams-core/Diagrams-Core-V.html#t:InSpace">InSpace</a> v n a, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="../diagrams-core/Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m, <a href="Diagrams-Trace.html#t:Traced">Traced</a> a) =&gt; a -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:phantom">phantom</a> :: (<a href="../diagrams-core/Diagrams-Core-V.html#t:InSpace">InSpace</a> v n a, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m, <a href="Diagrams-Envelope.html#t:Enveloped">Enveloped</a> a, <a href="Diagrams-Trace.html#t:Traced">Traced</a> a) =&gt; a -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:strut">strut</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="../diagrams-core/Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n) =&gt; v n -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:pad">pad</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="../diagrams-core/Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; n -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:frame">frame</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="../diagrams-core/Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; n -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:extrudeEnvelope">extrudeEnvelope</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="../diagrams-core/Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; v n -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:intrudeEnvelope">intrudeEnvelope</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="../diagrams-core/Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; v n -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:atop">atop</a> :: (<a href="../diagrams-core/Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:beneath">beneath</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="../diagrams-core/Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li><li class="src short"><a href="#v:beside">beside</a> :: (<a href="../diagrams-core/Diagrams-Core-Juxtapose.html#t:Juxtaposable">Juxtaposable</a> a, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> a) =&gt; <a href="../diagrams-core/Diagrams-Core-V.html#t:Vn">Vn</a> a -&gt; a -&gt; a -&gt; a</li><li class="src short"><a href="#v:atDirection">atDirection</a> :: (<a href="../diagrams-core/Diagrams-Core-V.html#t:InSpace">InSpace</a> v n a, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Numeric.html#t:Floating">Floating</a> n, <a href="../diagrams-core/Diagrams-Core-Juxtapose.html#t:Juxtaposable">Juxtaposable</a> a, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> a) =&gt; <a href="Diagrams-Direction.html#t:Direction">Direction</a> v n -&gt; a -&gt; a -&gt; a</li><li class="src short"><a href="#v:appends">appends</a> :: (<a href="../diagrams-core/Diagrams-Core-Juxtapose.html#t:Juxtaposable">Juxtaposable</a> a, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> a) =&gt; a -&gt; [(<a href="../diagrams-core/Diagrams-Core-V.html#t:Vn">Vn</a> a, a)] -&gt; a</li><li class="src short"><a href="#v:position">position</a> :: (<a href="../diagrams-core/Diagrams-Core-V.html#t:InSpace">InSpace</a> v n a, <a href="Diagrams-Transform.html#t:HasOrigin">HasOrigin</a> a, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> a) =&gt; [(<a href="Diagrams-Points.html#t:Point">Point</a> v n, a)] -&gt; a</li><li class="src short"><a href="#v:atPoints">atPoints</a> :: (<a href="../diagrams-core/Diagrams-Core-V.html#t:InSpace">InSpace</a> v n a, <a href="Diagrams-Transform.html#t:HasOrigin">HasOrigin</a> a, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> a) =&gt; [<a href="Diagrams-Points.html#t:Point">Point</a> v n] -&gt; [a] -&gt; a</li><li class="src short"><a href="#v:cat">cat</a> :: (<a href="../diagrams-core/Diagrams-Core-V.html#t:InSpace">InSpace</a> v n a, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Numeric.html#t:Floating">Floating</a> n, <a href="../diagrams-core/Diagrams-Core-Juxtapose.html#t:Juxtaposable">Juxtaposable</a> a, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> a, <a href="Diagrams-Transform.html#t:HasOrigin">HasOrigin</a> a) =&gt; v n -&gt; [a] -&gt; a</li><li class="src short"><a href="#v:cat-39-">cat'</a> :: (<a href="../diagrams-core/Diagrams-Core-V.html#t:InSpace">InSpace</a> v n a, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Numeric.html#t:Floating">Floating</a> n, <a href="../diagrams-core/Diagrams-Core-Juxtapose.html#t:Juxtaposable">Juxtaposable</a> a, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> a, <a href="Diagrams-Transform.html#t:HasOrigin">HasOrigin</a> a) =&gt; v n -&gt; <a href="Diagrams-Combinators.html#t:CatOpts">CatOpts</a> n -&gt; [a] -&gt; a</li><li class="src short"><span class="keyword">data</span> <a href="#t:CatOpts">CatOpts</a> n</li><li class="src short"><a href="#v:catMethod">catMethod</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Diagrams-Combinators.html#t:CatOpts">CatOpts</a> n) <a href="Diagrams-Combinators.html#t:CatMethod">CatMethod</a></li><li class="src short"><a href="#v:sep">sep</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Diagrams-Combinators.html#t:CatOpts">CatOpts</a> n) n</li><li class="src short"><span class="keyword">data</span> <a href="#t:CatMethod">CatMethod</a><ul class="subs"><li>= <a href="#v:Cat">Cat</a></li><li>| <a href="#v:Distrib">Distrib</a></li></ul></li><li class="src short"><a href="#v:composeAligned">composeAligned</a> :: (<a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Numeric.html#t:Floating">Floating</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Ord.html#t:Ord">Ord</a> n, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v) =&gt; (<a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) -&gt; ([<a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m] -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m) -&gt; [<a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m] -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</li></ul></div><div id="interface"><h1 id="g:1">Unary operations</h1><div class="top"><p class="src"><a id="v:withEnvelope" class="def">withEnvelope</a> :: (<a href="../diagrams-core/Diagrams-Core-V.html#t:InSpace">InSpace</a> v n a, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m, <a href="Diagrams-Envelope.html#t:Enveloped">Enveloped</a> a) =&gt; a -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Combinators.html#withEnvelope" class="link">Source</a> <a href="#v:withEnvelope" class="selflink">#</a></p><div class="doc"><p>Use the envelope from some object as the envelope for a
   diagram, in place of the diagram's default envelope.</p><p><img src="diagrams/src_Diagrams_Combinators_withEnvelopeEx.svg#diagram=withEnvelopeEx&amp;width=300" /></p><pre>sqNewEnv =
    circle 1 # fc green
    |||
    (    c # dashingG [0.1,0.1] 0 # lc white
      &lt;&gt; square 2 # withEnvelope (c :: D V2 Double) # fc blue
    )
c = circle 0.8
withEnvelopeEx = sqNewEnv # centerXY # pad 1.5</pre></div></div><div class="top"><p class="src"><a id="v:withTrace" class="def">withTrace</a> :: (<a href="../diagrams-core/Diagrams-Core-V.html#t:InSpace">InSpace</a> v n a, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="../diagrams-core/Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m, <a href="Diagrams-Trace.html#t:Traced">Traced</a> a) =&gt; a -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Combinators.html#withTrace" class="link">Source</a> <a href="#v:withTrace" class="selflink">#</a></p><div class="doc"><p>Use the trace from some object as the trace for a diagram, in
   place of the diagram's default trace.</p></div></div><div class="top"><p class="src"><a id="v:phantom" class="def">phantom</a> :: (<a href="../diagrams-core/Diagrams-Core-V.html#t:InSpace">InSpace</a> v n a, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m, <a href="Diagrams-Envelope.html#t:Enveloped">Enveloped</a> a, <a href="Diagrams-Trace.html#t:Traced">Traced</a> a) =&gt; a -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Combinators.html#phantom" class="link">Source</a> <a href="#v:phantom" class="selflink">#</a></p><div class="doc"><p><code>phantom x</code> produces a &quot;phantom&quot; diagram, which has the same
   envelope and trace as <code>x</code> but produces no output.</p></div></div><div class="top"><p class="src"><a id="v:strut" class="def">strut</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="../diagrams-core/Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n) =&gt; v n -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Combinators.html#strut" class="link">Source</a> <a href="#v:strut" class="selflink">#</a></p><div class="doc"><p><code>strut v</code> is a diagram which produces no output, but with respect
   to alignment and envelope acts like a 1-dimensional segment
   oriented along the vector <code>v</code>, with local origin at its
   center. (Note, however, that it has an empty trace; for 2D struts
   with a nonempty trace see <code>strutR2</code>, <code>strutX</code>, and <code>strutY</code> from
   <a href="Diagrams-TwoD-Combinators.html">Diagrams.TwoD.Combinators</a>.) Useful for manually creating
   separation between two diagrams.</p><p><img src="diagrams/src_Diagrams_Combinators_strutEx.svg#diagram=strutEx&amp;width=300" /></p><pre>strutEx = (circle 1 ||| strut unitX ||| circle 1) # centerXY # pad 1.1</pre></div></div><div class="top"><p class="src"><a id="v:pad" class="def">pad</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="../diagrams-core/Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; n -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Combinators.html#pad" class="link">Source</a> <a href="#v:pad" class="selflink">#</a></p><div class="doc"><p><code>pad s</code> &quot;pads&quot; a diagram, expanding its envelope by a factor of
   <code>s</code> (factors between 0 and 1 can be used to shrink the envelope).
   Note that the envelope will expand with respect to the local
   origin, so if the origin is not centered the padding may appear
   &quot;uneven&quot;.  If this is not desired, the origin can be centered
   (using, e.g., <code>centerXY</code> for 2D diagrams) before applying <code>pad</code>.</p></div></div><div class="top"><p class="src"><a id="v:frame" class="def">frame</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="../diagrams-core/Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; n -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Combinators.html#frame" class="link">Source</a> <a href="#v:frame" class="selflink">#</a></p><div class="doc"><p><code>frame s</code> increases the envelope of a diagram by and absolute amount <code>s</code>,
   s is in the local units of the diagram. This function is similar to <code>pad</code>,
   only it takes an absolute quantity and pre-centering should not be
   necessary.</p></div></div><div class="top"><p class="src"><a id="v:extrudeEnvelope" class="def">extrudeEnvelope</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="../diagrams-core/Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; v n -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Combinators.html#extrudeEnvelope" class="link">Source</a> <a href="#v:extrudeEnvelope" class="selflink">#</a></p><div class="doc"><p><code>extrudeEnvelope v d</code> asymmetrically &quot;extrudes&quot; the envelope of
   a diagram in the given direction.  All parts of the envelope
   within 90 degrees of this direction are modified, offset outwards
   by the magnitude of the vector.</p><p>This works by offsetting the envelope distance proportionally to
   the cosine of the difference in angle, and leaving it unchanged
   when this factor is negative.</p></div></div><div class="top"><p class="src"><a id="v:intrudeEnvelope" class="def">intrudeEnvelope</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="../diagrams-core/Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; v n -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <a href="src/Diagrams-Combinators.html#intrudeEnvelope" class="link">Source</a> <a href="#v:intrudeEnvelope" class="selflink">#</a></p><div class="doc"><p><code>intrudeEnvelope v d</code> asymmetrically &quot;intrudes&quot; the envelope of
   a diagram away from the given direction.  All parts of the envelope
   within 90 degrees of this direction are modified, offset inwards
   by the magnitude of the vector.</p><p>Note that this could create strange inverted envelopes, where
   <code> diameter v d &lt; 0 </code>.</p></div></div><h1 id="g:2">Binary operations</h1><div class="top"><p class="src"><a id="v:atop" class="def">atop</a> :: (<a href="../diagrams-core/Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> m) =&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <span class="fixity">infixl 6</span><span class="rightedge"></span> <a href="#v:atop" class="selflink">#</a></p><div class="doc"><p>A convenient synonym for <code><a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#v:mappend">mappend</a></code> on diagrams, designed to be
   used infix (to help remember which diagram goes on top of which
   when combining them, namely, the first on top of the second).</p></div></div><div class="top"><p class="src"><a id="v:beneath" class="def">beneath</a> :: (<a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="../diagrams-core/Diagrams-Core-Envelope.html#t:OrderedField">OrderedField</a> n, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m) =&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m <span class="fixity">infixl 6</span><span class="rightedge"></span> <a href="src/Diagrams-Combinators.html#beneath" class="link">Source</a> <a href="#v:beneath" class="selflink">#</a></p><div class="doc"><p><code>beneath</code> is just a convenient synonym for <code><code><a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Function.html#v:flip">flip</a></code> <code><a href="Diagrams-Combinators.html#v:atop">atop</a></code></code>; that is,
   <code>d1 `beneath` d2</code> is the diagram with <code>d2</code> superimposed on top of
   <code>d1</code>.</p></div></div><div class="top"><p class="src"><a id="v:beside" class="def">beside</a> :: (<a href="../diagrams-core/Diagrams-Core-Juxtapose.html#t:Juxtaposable">Juxtaposable</a> a, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> a) =&gt; <a href="../diagrams-core/Diagrams-Core-V.html#t:Vn">Vn</a> a -&gt; a -&gt; a -&gt; a <a href="src/Diagrams-Combinators.html#beside" class="link">Source</a> <a href="#v:beside" class="selflink">#</a></p><div class="doc"><p>Place two monoidal objects (<em>i.e.</em> diagrams, paths,
   animations...) next to each other along the given vector.  In
   particular, place the second object so that the vector points
   from the local origin of the first object to the local origin of
   the second object, at a distance so that their envelopes are just
   tangent.  The local origin of the new, combined object is the
   local origin of the first object (unless the first object is the
   identity element, in which case the second object is returned
   unchanged).</p><p><img src="diagrams/src_Diagrams_Combinators_besideEx.svg#diagram=besideEx&amp;height=200" /></p><pre>besideEx = beside (r2 (20,30))
                  (circle 1 # fc orange)
                  (circle 1.5 # fc purple)
           # showOrigin
           # centerXY # pad 1.1</pre><p>Note that <code>beside v</code> is associative, so objects under <code>beside v</code>
   form a semigroup for any given vector <code>v</code>.  In fact, they also
   form a monoid: <code><a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Monoid.html#v:mempty">mempty</a></code> is clearly a right identity (<code>beside v d1
   mempty === d1</code>), and there should also be a special case to make
   it a left identity, as described above.</p><p>In older versions of diagrams, <code>beside</code> put the local origin of
   the result at the point of tangency between the two inputs.  That
   semantics can easily be recovered by performing an alignment on
   the first input before combining.  That is, if <code>beside'</code> denotes
   the old semantics,</p><pre>beside' v x1 x2 = beside v (x1 # align v) x2</pre><p>To get something like <code>beside v x1 x2</code> whose local origin is
   identified with that of <code>x2</code> instead of <code>x1</code>, use <code>beside
   (negateV v) x2 x1</code>.</p></div></div><div class="top"><p class="src"><a id="v:atDirection" class="def">atDirection</a> :: (<a href="../diagrams-core/Diagrams-Core-V.html#t:InSpace">InSpace</a> v n a, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Numeric.html#t:Floating">Floating</a> n, <a href="../diagrams-core/Diagrams-Core-Juxtapose.html#t:Juxtaposable">Juxtaposable</a> a, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Semigroup.html#t:Semigroup">Semigroup</a> a) =&gt; <a href="Diagrams-Direction.html#t:Direction">Direction</a> v n -&gt; a -&gt; a -&gt; a <a href="src/Diagrams-Combinators.html#atDirection" class="link">Source</a> <a href="#v:atDirection" class="selflink">#</a></p><div class="doc"><p>Place two diagrams (or other juxtaposable objects) adjacent to
   one another, with the second diagram placed in the direction <code>d</code>
   from the first.  The local origin of the resulting combined
   diagram is the same as the local origin of the first.  See the
   documentation of <code><a href="Diagrams-Combinators.html#v:beside">beside</a></code> for more information.</p></div></div><h1 id="g:3">n-ary operations</h1><div class="top"><p class="src"><a id="v:appends" class="def">appends</a> :: (<a href="../diagrams-core/Diagrams-Core-Juxtapose.html#t:Juxtaposable">Juxtaposable</a> a, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> a) =&gt; a -&gt; [(<a href="../diagrams-core/Diagrams-Core-V.html#t:Vn">Vn</a> a, a)] -&gt; a <a href="src/Diagrams-Combinators.html#appends" class="link">Source</a> <a href="#v:appends" class="selflink">#</a></p><div class="doc"><p><code>appends x ys</code> appends each of the objects in <code>ys</code> to the object
   <code>x</code> in the corresponding direction.  Note that each object in
   <code>ys</code> is positioned beside <code>x</code> <em>without</em> reference to the other
   objects in <code>ys</code>, so this is not the same as iterating <code><a href="Diagrams-Combinators.html#v:beside">beside</a></code>.</p><p><img src="diagrams/src_Diagrams_Combinators_appendsEx.svg#diagram=appendsEx&amp;width=200" /></p><pre>appendsEx = appends c (zip (iterateN 6 (rotateBy (1/6)) unitX) (repeat c))
            # centerXY # pad 1.1
  where c = circle 1</pre></div></div><div class="top"><p class="src"><a id="v:position" class="def">position</a> :: (<a href="../diagrams-core/Diagrams-Core-V.html#t:InSpace">InSpace</a> v n a, <a href="Diagrams-Transform.html#t:HasOrigin">HasOrigin</a> a, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> a) =&gt; [(<a href="Diagrams-Points.html#t:Point">Point</a> v n, a)] -&gt; a <a href="src/Diagrams-Combinators.html#position" class="link">Source</a> <a href="#v:position" class="selflink">#</a></p><div class="doc"><p>Position things absolutely: combine a list of objects
   (e.g. diagrams or paths) by assigning them absolute positions in
   the vector space of the combined object.</p><p><img src="diagrams/src_Diagrams_Combinators_positionEx.svg#diagram=positionEx&amp;height=300" /></p><pre>positionEx = position (zip (map mkPoint [-3, -2.8 .. 3]) (repeat spot))
  where spot      = circle 0.2 # fc black
        mkPoint :: Double -&gt; P2 Double
        mkPoint x = p2 (x,x*x)</pre></div></div><div class="top"><p class="src"><a id="v:atPoints" class="def">atPoints</a> :: (<a href="../diagrams-core/Diagrams-Core-V.html#t:InSpace">InSpace</a> v n a, <a href="Diagrams-Transform.html#t:HasOrigin">HasOrigin</a> a, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> a) =&gt; [<a href="Diagrams-Points.html#t:Point">Point</a> v n] -&gt; [a] -&gt; a <a href="src/Diagrams-Combinators.html#atPoints" class="link">Source</a> <a href="#v:atPoints" class="selflink">#</a></p><div class="doc"><p>Curried version of <code>position</code>, takes a list of points and a list of
   objects.</p></div></div><div class="top"><p class="src"><a id="v:cat" class="def">cat</a> :: (<a href="../diagrams-core/Diagrams-Core-V.html#t:InSpace">InSpace</a> v n a, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Numeric.html#t:Floating">Floating</a> n, <a href="../diagrams-core/Diagrams-Core-Juxtapose.html#t:Juxtaposable">Juxtaposable</a> a, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> a, <a href="Diagrams-Transform.html#t:HasOrigin">HasOrigin</a> a) =&gt; v n -&gt; [a] -&gt; a <a href="src/Diagrams-Combinators.html#cat" class="link">Source</a> <a href="#v:cat" class="selflink">#</a></p><div class="doc"><p><code>cat v</code> positions a list of objects so that their local origins
   lie along a line in the direction of <code>v</code>.  Successive objects
   will have their envelopes just touching.  The local origin
   of the result will be the same as the local origin of the first
   object.</p><p>See also <code><a href="Diagrams-Combinators.html#v:cat-39-">cat'</a></code>, which takes an extra options record allowing
   certain aspects of the operation to be tweaked.</p></div></div><div class="top"><p class="src"><a id="v:cat-39-" class="def">cat'</a> :: (<a href="../diagrams-core/Diagrams-Core-V.html#t:InSpace">InSpace</a> v n a, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Numeric.html#t:Floating">Floating</a> n, <a href="../diagrams-core/Diagrams-Core-Juxtapose.html#t:Juxtaposable">Juxtaposable</a> a, <a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> a, <a href="Diagrams-Transform.html#t:HasOrigin">HasOrigin</a> a) =&gt; v n -&gt; <a href="Diagrams-Combinators.html#t:CatOpts">CatOpts</a> n -&gt; [a] -&gt; a <a href="src/Diagrams-Combinators.html#cat%27" class="link">Source</a> <a href="#v:cat-39-" class="selflink">#</a></p><div class="doc"><p>Like <code><a href="Diagrams-Combinators.html#v:cat">cat</a></code>, but taking an extra <code><a href="Diagrams-Combinators.html#t:CatOpts">CatOpts</a></code> arguments allowing the
   user to specify</p><ul><li>The spacing method: catenation (uniform spacing between
     envelopes) or distribution (uniform spacing between local
     origins).  The default is catenation.</li><li>The amount of separation between successive diagram
     envelopes/origins (depending on the spacing method).  The
     default is 0.</li></ul><p><code><a href="Diagrams-Combinators.html#t:CatOpts">CatOpts</a></code> is an instance of <code><a href="http://hackage.haskell.org/packages/archive/data-default-class/0.1.2.0/doc/html/Data-Default-Class.html#t:Default">Default</a></code>, so <code><a href="Diagrams-Util.html#v:with">with</a></code> may be used for
   the second argument, as in <code>cat' (1,2) (with &amp; sep .~ 2)</code>.</p><p>Note that <code>cat' v (with &amp; catMethod .~ Distrib) === mconcat</code>
   (distributing with a separation of 0 is the same as
   superimposing).</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CatOpts" class="def">CatOpts</a> n <a href="src/Diagrams-Combinators.html#CatOpts" class="link">Source</a> <a href="#t:CatOpts" class="selflink">#</a></p><div class="doc"><p>Options for <code><a href="Diagrams-Combinators.html#v:cat-39-">cat'</a></code>.</p></div><div class="subs instances"><p id="control.i:CatOpts" class="caption collapser" onclick="toggleSection('i:CatOpts')">Instances</p><div id="section.i:CatOpts" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><span id="control.i:id:CatOpts:Default:1" class="instance expander" onclick="toggleSection('i:id:CatOpts:Default:1')"></span> <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Prelude.html#t:Num">Num</a> n =&gt; <a href="http://hackage.haskell.org/packages/archive/data-default-class/0.1.2.0/doc/html/Data-Default-Class.html#t:Default">Default</a> (<a href="Diagrams-Combinators.html#t:CatOpts">CatOpts</a> n)</span> <a href="src/Diagrams-Combinators.html#line-314" class="link">Source</a> <a href="#t:CatOpts" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div id="section.i:id:CatOpts:Default:1" class="inst-details hide"><div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:def">def</a> :: <a href="Diagrams-Combinators.html#t:CatOpts">CatOpts</a> n <a href="#v:def" class="selflink">#</a></p></div></div></td></tr></table></div></div></div><div class="top"><p class="src"><a id="v:catMethod" class="def">catMethod</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Diagrams-Combinators.html#t:CatOpts">CatOpts</a> n) <a href="Diagrams-Combinators.html#t:CatMethod">CatMethod</a> <a href="src/Diagrams-Combinators.html#catMethod" class="link">Source</a> <a href="#v:catMethod" class="selflink">#</a></p><div class="doc"><p>Which <code><a href="Diagrams-Combinators.html#t:CatMethod">CatMethod</a></code> should be used:
   normal catenation (default), or distribution?</p></div></div><div class="top"><p class="src"><a id="v:sep" class="def">sep</a> :: <a href="http://hackage.haskell.org/packages/archive/lens/4.15.1/doc/html/Control-Lens-Type.html#t:Lens-39-">Lens'</a> (<a href="Diagrams-Combinators.html#t:CatOpts">CatOpts</a> n) n <a href="src/Diagrams-Combinators.html#sep" class="link">Source</a> <a href="#v:sep" class="selflink">#</a></p><div class="doc"><p>How much separation should be used between successive diagrams
   (default: 0)?  When <code>catMethod = Cat</code>, this is the distance between
   <em>envelopes</em>; when <code>catMethod = Distrib</code>, this is the distance
   between <em>origins</em>.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:CatMethod" class="def">CatMethod</a> <a href="src/Diagrams-Combinators.html#CatMethod" class="link">Source</a> <a href="#t:CatMethod" class="selflink">#</a></p><div class="doc"><p>Methods for concatenating diagrams.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Cat" class="def">Cat</a></td><td class="doc"><p>Normal catenation: simply put diagrams
   next to one another (possibly with a
   certain distance in between each). The
   distance between successive diagram
   <em>envelopes</em> will be consistent; the
   distance between <em>origins</em> may vary if
   the diagrams are of different sizes.</p></td></tr><tr><td class="src"><a id="v:Distrib" class="def">Distrib</a></td><td class="doc"><p>Distribution: place the local origins of
   diagrams at regular intervals.  With
   this method, the distance between
   successive <em>origins</em> will be consistent
   but the distance between envelopes may
   not be.  Indeed, depending on the amount
   of separation, diagrams may overlap.</p></td></tr></table></div></div><div class="top"><p class="src"><a id="v:composeAligned" class="def">composeAligned</a> <a href="src/Diagrams-Combinators.html#composeAligned" class="link">Source</a> <a href="#v:composeAligned" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: (<a href="../diagrams-core/Diagrams-Core.html#t:Monoid-39-">Monoid'</a> m, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Numeric.html#t:Floating">Floating</a> n, <a href="http://hackage.haskell.org/packages/archive/base/4.9.0.0/doc/html/Data-Ord.html#t:Ord">Ord</a> n, <a href="http://hackage.haskell.org/packages/archive/linear/1.20.5/doc/html/Linear-Metric.html#t:Metric">Metric</a> v)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; (<a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)</td><td class="doc"><p>Alignment function</p></td></tr><tr><td class="src">-&gt; ([<a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m] -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m)</td><td class="doc"><p>Composition function</p></td></tr><tr><td class="src">-&gt; [<a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m] -&gt; <a href="../diagrams-core/Diagrams-Core-Types.html#t:QDiagram">QDiagram</a> b v n m</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Compose a list of diagrams using the given composition function,
   first aligning them all according to the given alignment, <em>but</em>
   retain the local origin of the first diagram, as it would be if
   the composition function were applied directly.  That is,
   <code>composeAligned algn comp</code> is equivalent to <code>translate v . comp
   . map algn</code> for some appropriate translation vector <code>v</code>.</p><p>Unfortunately, this only works for diagrams (and not, say, paths)
   because there is no most general type for alignment functions,
   and no generic way to find out what an alignment function does to
   the origin of things.  (However, it should be possible to make a
   version of this function that works <em>specifically</em> on paths, if
   such a thing were deemed useful.)</p><p><img src="diagrams/src_Diagrams_Combinators_alignedEx1.svg#diagram=alignedEx1&amp;width=400" /></p><pre>alignedEx1 = (hsep 2 # composeAligned alignT) (map circle [1,3,5,2])
           # showOrigin
           # frame 0.5</pre><p><img src="diagrams/src_Diagrams_Combinators_alignedEx2.svg#diagram=alignedEx2&amp;width=400" /></p><pre>alignedEx2 = (mconcat # composeAligned alignTL) [circle 1, square 1, triangle 1, pentagon 1]
           # showOrigin
           # frame 0.1</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.2</p></div></body></html>